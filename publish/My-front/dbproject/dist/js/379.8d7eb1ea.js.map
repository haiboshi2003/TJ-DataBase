{"version":3,"file":"js/379.8d7eb1ea.js","mappings":"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","sources":["webpack://dbproject/./src/components/login/ChangePassword.vue","webpack://dbproject/./src/components/login/ChangePassword.vue?da05","webpack://dbproject/./src/components/login/Identify.vue","webpack://dbproject/./src/components/login/Identify.vue?3f3a"],"sourcesContent":["<template>\r\n  <div class=\"body\">\r\n    <div class=\"headpic\">\r\n      <img class=\"logo\" src=\"../../assets/image-2.png\" />\r\n      <div class=\"title\">&nbsp;&nbsp;警务处理系统</div>\r\n    </div>\r\n\r\n    <div class=\"change-password-page\">\r\n      <div class=\"change-password-container\">\r\n        <p class=\"forget-text\">忘记密码</p>\r\n        <p class=\"setnew-text\">重置密码</p>\r\n        <form @submit.prevent=\"submitForm\">\r\n          <div class=\"input-container\">\r\n            <div>\r\n              <input\r\n                id=\"userName\"\r\n                type=\"text\"\r\n                v-model=\"PoliceNumber\"\r\n                autocomplete=\"off\"\r\n                @focus=\"handleFocus1\"\r\n                @blur=\"handleBlur1\"\r\n                required\r\n              />\r\n              <div class=\"Tip\" :class=\"{ TipA: isFocused1 }\">\r\n                请填写您需要找回的警号\r\n              </div>\r\n            </div>\r\n\r\n            <p v-if=\"!isValidStudentNumber\" class=\"error-message\">\r\n              警号不满足格式\r\n            </p>\r\n            <p v-else>&nbsp;</p>\r\n          </div>\r\n          <div class=\"input-container\">\r\n            <div>\r\n              <input\r\n                id=\"idNumber\"\r\n                type=\"text\"\r\n                v-model=\"idNumber\"\r\n                autocomplete=\"off\"\r\n                required\r\n                @focus=\"handleFocus2\"\r\n                @blur=\"handleBlur2\"\r\n              />\r\n              <div class=\"Tip\" :class=\"{ TipA: isFocused2 }\">证件号码</div>\r\n            </div>\r\n            <p v-if=\"!isValidIdNumber\" class=\"error-message\">\r\n              身份证号不满足格式\r\n            </p>\r\n            <p v-else>&nbsp;</p>\r\n          </div>\r\n\r\n          <div class=\"code-container\">\r\n            <div>\r\n              <input\r\n                id=\"two-code-text\"\r\n                v-model=\"formLogin\"\r\n                autocomplete=\"off\"\r\n                @focus=\"handleFocus3\"\r\n                @blur=\"handleBlur3\"\r\n              />\r\n            </div>\r\n            <div class=\"Tip\" :class=\"{ TipA: isFocused3 }\">输入验证码</div>\r\n            <div class=\"code-image\" @click=\"refreshCode\">\r\n              <!-- 验证码组件 -->\r\n              <SIdentify :identifyCode=\"identifyCode\"></SIdentify>\r\n            </div>\r\n          </div>\r\n\r\n          <button type=\"submit\" class=\"confirm-button\">提交</button>\r\n        </form>\r\n        <p v-if=\"error\" class=\"error-message\">{{ error }}</p>\r\n        <p v-else>&nbsp;</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"../../api/request\";\r\n\r\nimport SIdentify from \"./Identify.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    SIdentify,\r\n  },\r\n  data() {\r\n    return {\r\n      PoliceNumber: \"\",\r\n      idNumber: \"\",\r\n      isValidStudentNumber: true,\r\n      isValidIdNumber: true,\r\n      error: \"\",\r\n      //验证码\r\n      formLogin: \"\",\r\n      identifyCodes: \"1234567890abcdefjhijklinopqrsduvwxyz\", //随机串内容\r\n      identifyCode: \"\",\r\n      isFocused1: false,\r\n      isFocused2: false,\r\n      isFocused3: false,\r\n    };\r\n  },\r\n  methods: {\r\n    handleFocus1() {\r\n      this.isFocused1 = true;\r\n      console.log(\"点击了\");\r\n    },\r\n    handleBlur1() {\r\n      let val = document.getElementById(\"userName\").value;\r\n      if (!val) {\r\n        this.isFocused1 = false;\r\n      }\r\n    },\r\n    handleFocus2() {\r\n      this.isFocused2 = true;\r\n      console.log(\"点击了\");\r\n    },\r\n    handleBlur2() {\r\n      let val = document.getElementById(\"idNumber\").value;\r\n      if (!val) {\r\n        this.isFocused2 = false;\r\n      }\r\n    },\r\n    handleFocus3() {\r\n      this.isFocused3 = true;\r\n      console.log(\"点击了\");\r\n    },\r\n    handleBlur3() {\r\n      let val = document.getElementById(\"two-code-text\").value;\r\n      if (!val) {\r\n        this.isFocused3 = false;\r\n      }\r\n    },\r\n\r\n    //验证码\r\n    refreshCode() {\r\n      this.identifyCode = \"\";\r\n      this.makeCode(this.identifyCodes, 4);\r\n    },\r\n    makeCode(o, l) {\r\n      for (let i = 0; i < l; i++) {\r\n        this.identifyCode +=\r\n          this.identifyCodes[this.randomNum(0, this.identifyCodes.length)];\r\n      }\r\n    },\r\n    randomNum(min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min);\r\n    },\r\n    //↑验证码\r\n    submitForm() {\r\n      // 清除之前的错误信息\r\n      this.error = \"\";\r\n      //验证码进行验证\r\n      if (this.formLogin.toLowerCase() !== this.identifyCode.toLowerCase()) {\r\n        this.error = \"请填写正确验证码\";\r\n        setTimeout(() => {\r\n          this.error = \"\";\r\n        }, 1500);\r\n        this.refreshCode();\r\n        return;\r\n      }\r\n      // 格式验证\r\n      this.isValidStudentNumber = /^\\d{7}$/.test(this.PoliceNumber);\r\n      this.isValidIdNumber = /^\\d{18}$/.test(this.idNumber);\r\n\r\n      // 验证通过才发送请求\r\n      if (this.isValidStudentNumber && this.isValidIdNumber) {\r\n        axios\r\n          .post(\"/api/reset-password\", {\r\n            PoliceNumber: this.PoliceNumber,\r\n            IdNumber: this.idNumber,\r\n          })\r\n          .then((response) => {\r\n            this.refreshCode();\r\n            // 处理响应\r\n            if (response.data.success) {\r\n              // 身份验证成功，存储token，并跳转到下一个页面\r\n              sessionStorage.setItem(\"token\", response.data.token);\r\n              // 传递ID到另一个页面\r\n              this.$router.push({\r\n                path: \"/ForPassword\",\r\n                query: { id: this.PoliceNumber }, // 传递警号参数\r\n              });\r\n            } else {\r\n              // 身份验证失败，显示错误消息\r\n              this.error = \"身份不匹配，请重新输入\";\r\n              setTimeout(() => {\r\n                this.error = \"\";\r\n              }, 1500);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            // 处理错误\r\n            this.refreshCode();\r\n            console.error(error);\r\n            this.error = \"网络问题\";\r\n            setTimeout(() => {\r\n              this.error = \"\";\r\n            }, 1500);\r\n          });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    // 初始化验证码\r\n    this.identifyCode = \"\";\r\n    this.makeCode(this.identifyCodes, 4);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\" scoped>\r\n.body {\r\n  background-image: url(\"../../assets/hellopolice.jpg\");\r\n  background-attachment: fixed;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  height: 120vh;\r\n  overflow: auto;\r\n}\r\n\r\n.headpic {\r\n  background: #1f2cdf;\r\n  background-image: url(\"../../assets/hdtest.jpg\"); /* 替换为你的背景图路径 */\r\n  background-size: contain;\r\n  background-position: right top; /* 背景图靠左上角 */\r\n  background-repeat: no-repeat;\r\n  width: 100%;\r\n  height: 70px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  left: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 20px;\r\n  .logo {\r\n    width: 70px;\r\n    height: 70px;\r\n    position: relative;\r\n    top: 2px;\r\n    left: 0px;\r\n  }\r\n  .title {\r\n    color: #ffffff;\r\n    text-align: left;\r\n    font: 400 36px \"Inter\", sans-serif;\r\n    display: inline-block;\r\n  }\r\n}\r\n\r\n.change-password-container {\r\n  flex-direction: column;\r\n  display: flex;\r\n  margin: 0 auto;\r\n  margin-top: 50px;\r\n  padding: 20px;\r\n  border-radius: 4px;\r\n  height: 70%;\r\n  width: 30%;\r\n  max-width: 35%;\r\n  min-width: 400px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 0.3em;\r\n  backdrop-filter: blur(2px);\r\n  background-color: #2b2828ba;\r\n  box-shadow: 0 0 0 10px hsla(0, 2%, 73%, 0.711) inset,\r\n    0 0.3em 1em rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.forget-text {\r\n  color: #fff;\r\n  font-size: 40px; /* 字号大小 */\r\n  font-weight: bold; /* 字体加粗 */\r\n  margin-top: 1px;\r\n}\r\n.setnew-text {\r\n  color: #fff;\r\n  margin-top: 1px;\r\n  margin-bottom: 5px;\r\n  font-size: 20px; /* 字号大小 */\r\n  font-weight: bold; /* 字体加粗 */\r\n}\r\n\r\n#userName {\r\n  margin-top: 50px;\r\n  display: inline-block;\r\n  width: 300px;\r\n  height: 30px;\r\n  color: #0ff;\r\n  font-size: 20px;\r\n  border: 0px transparent;\r\n  border-bottom: 3px solid #fff;\r\n  background-color: transparent;\r\n}\r\n\r\n#userName:focus {\r\n  outline: none;\r\n  border-bottom: 3px solid #0ff;\r\n}\r\n\r\n#idNumber {\r\n  margin-top: 50px;\r\n  display: inline-block;\r\n  width: 300px;\r\n  height: 30px;\r\n  color: #0ff;\r\n  font-size: 20px;\r\n  border: 0px transparent;\r\n  border-bottom: 3px solid #fff;\r\n  background-color: transparent;\r\n}\r\n\r\n#idNumber:focus {\r\n  outline: none;\r\n  border-bottom: 3px solid #0ff;\r\n}\r\n\r\n#two-code-text {\r\n  display: inline-block;\r\n  width: 150px;\r\n  height: 30px;\r\n  color: #0ff;\r\n  font-size: 20px;\r\n  border: 0px transparent;\r\n  border-bottom: 3px solid #fff;\r\n  margin-left: 70px;\r\n  background-color: transparent;\r\n}\r\n\r\n#two-code-text:focus {\r\n  outline: none;\r\n  border-bottom: 3px solid #0ff;\r\n}\r\n\r\n.Tip {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 20px;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #fff;\r\n}\r\n@keyframes user {\r\n  from {\r\n    top: 0px;\r\n    font-size: 20px;\r\n  }\r\n  to {\r\n    top: -20px;\r\n    font-size: 17px;\r\n    color: rgb(12, 235, 179);\r\n  }\r\n}\r\n\r\n.TipA {\r\n  animation: user 0.3s linear normal forwards;\r\n  animation-iteration-count: 1;\r\n}\r\n\r\n.input-container {\r\n  flex-direction: column;\r\n  margin-top: 20px;\r\n  display: flex;\r\n  position: relative;\r\n  width: 400px;\r\n  height: 150px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n}\r\n\r\n.confirm-button {\r\n  background-color: #1890ff;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  margin-left: 40%;\r\n  font-weight: bold;\r\n}\r\n\r\n.confirm-button:hover {\r\n  background-color: #40a9ff;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-weight: bold;\r\n}\r\n\r\n.code-container {\r\n  margin-top: 10px;\r\n  display: flex;\r\n  position: relative;\r\n  width: 400px;\r\n  height: 80px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n}\r\n\r\n.code-image {\r\n  flex: 1;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./ChangePassword.vue?vue&type=template&id=358c1370&scoped=true\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js\"\n\nimport \"./ChangePassword.vue?vue&type=style&index=0&id=358c1370&lang=postcss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-358c1370\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"s-canvas\">\r\n        <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\r\n    </div>\r\n</template>\r\n \r\n<script>\r\n    export default {\r\n        name: \"SIdentify\",\r\n        props: {\r\n            identifyCode: {\r\n                type: String,\r\n                default: '1234'\r\n            },\r\n            fontSizeMin: {\r\n                type: Number,\r\n                default: 25\r\n            },\r\n            fontSizeMax: {\r\n                type: Number,\r\n                default: 30\r\n            },\r\n            backgroundColorMin: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            backgroundColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            colorMin: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            colorMax: {\r\n                type: Number,\r\n                default: 160\r\n            },\r\n            lineColorMin: {\r\n                type: Number,\r\n                default: 100\r\n            },lineColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            dotColorMin: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            dotColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            contentWidth: {\r\n                type: Number,\r\n                default: 112\r\n            },\r\n            contentHeight: {\r\n                type: Number,\r\n                default: 31\r\n            }\r\n        },\r\n        methods: {\r\n            // 生成一个随机数\r\n            randomNum(min, max) {\r\n                return Math.floor(Math.random() * (max - min) + min)\r\n            },\r\n            // 生成一个随机的颜色\r\n            randomColor(min, max) {\r\n                let r = this.randomNum(min, max)\r\n                let g = this.randomNum(min, max)\r\n                let b = this.randomNum(min, max)\r\n                return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n            },\r\n            drawPic() {\r\n                let canvas = document.getElementById('s-canvas')\r\n                let ctx = canvas.getContext('2d')\r\n                ctx.textBaseline = 'bottom'\r\n                // 绘制背景\r\n                ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax)\r\n                ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n                // 绘制文字\r\n                for (let i = 0; i < this.identifyCode.length; i++) {\r\n                    this.drawText(ctx, this.identifyCode[i], i)\r\n                }\r\n                this.drawLine(ctx)\r\n                this.drawDot(ctx)\r\n            },\r\n            drawText(ctx, txt, i) {\r\n                ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n                ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\r\n                let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n                let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n                var deg = this.randomNum(-45, 45)\r\n                // 修改坐标原点和旋转角度\r\n                ctx.translate(x, y)\r\n                ctx.rotate(deg * Math.PI / 180)\r\n                ctx.fillText(txt, 0, 0)\r\n                // 恢复坐标原点和旋转角度\r\n                ctx.rotate(-deg * Math.PI / 180)\r\n                ctx.translate(-x, -y)\r\n            },\r\n            drawLine(ctx) {\r\n                // 绘制干扰线\r\n                for (let i = 0; i < 5; i++) {\r\n                    ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n                    ctx.beginPath()\r\n                    ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n                    ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n                    ctx.stroke()\r\n                }\r\n            },\r\n            drawDot(ctx) {\r\n                // 绘制干扰点\r\n                for (let i = 0; i < 80; i++) {\r\n                    ctx.fillStyle = this.randomColor(0, 255)\r\n                    ctx.beginPath()\r\n                    ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n                    ctx.fill()\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            identifyCode() {\r\n                this.drawPic()\r\n            }\r\n        },\r\n        mounted() {\r\n            this.drawPic()\r\n        }\r\n    }\r\n</script>\r\n \r\n<style scoped>\r\n    .s-canvas {\r\n        height: 38px;\r\n \r\n    }\r\n    .s-canvas canvas{\r\n        margin-top: 1px;\r\n        margin-left: 8px;\r\n    }\r\n</style>","import { render } from \"./Identify.vue?vue&type=template&id=43e4f048&scoped=true\"\nimport script from \"./Identify.vue?vue&type=script&lang=js\"\nexport * from \"./Identify.vue?vue&type=script&lang=js\"\n\nimport \"./Identify.vue?vue&type=style&index=0&id=43e4f048&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-43e4f048\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_7","id","$data","PoliceNumber","$event","autocomplete","onFocus","handleFocus1","onBlur","handleBlur1","required","_normalizeClass","TipA","isFocused1","isValidStudentNumber","_hoisted_9","_hoisted_8","_hoisted_10","idNumber","handleFocus2","handleBlur2","isFocused2","isValidIdNumber","_hoisted_12","_hoisted_11","_hoisted_13","formLogin","handleFocus3","handleBlur3","isFocused3","onClick","refreshCode","_createVNode","_component_SIdentify","identifyCode","_hoisted_14","error","_hoisted_15","_toDisplayString","_hoisted_16","components","SIdentify","data","identifyCodes","methods","this","console","log","val","document","getElementById","value","makeCode","o","l","i","randomNum","length","min","max","Math","floor","random","toLowerCase","setTimeout","test","axios","post","IdNumber","then","response","success","sessionStorage","setItem","token","$router","push","path","query","catch","mounted","__exports__","render","width","$props","contentWidth","height","contentHeight","name","props","String","default","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","dotColorMin","dotColorMax","randomColor","r","g","b","drawPic","canvas","ctx","getContext","textBaseline","fillStyle","fillRect","drawText","drawLine","drawDot","txt","font","x","y","deg","translate","rotate","PI","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","watch"],"sourceRoot":""}