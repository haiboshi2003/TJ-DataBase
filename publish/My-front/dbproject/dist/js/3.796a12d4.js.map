{"version":3,"file":"js/3.796a12d4.js","mappings":"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","sources":["webpack://dbproject/./src/components/login/Identify.vue","webpack://dbproject/./src/components/login/Identify.vue?3f3a","webpack://dbproject/./src/components/login/Login.vue","webpack://dbproject/../lib/atob.js","webpack://dbproject/../lib/base64_url_decode.js","webpack://dbproject/../lib/index.js","webpack://dbproject/./src/components/login/Login.vue?ab9e"],"sourcesContent":["<template>\r\n    <div class=\"s-canvas\">\r\n        <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\r\n    </div>\r\n</template>\r\n \r\n<script>\r\n    export default {\r\n        name: \"SIdentify\",\r\n        props: {\r\n            identifyCode: {\r\n                type: String,\r\n                default: '1234'\r\n            },\r\n            fontSizeMin: {\r\n                type: Number,\r\n                default: 25\r\n            },\r\n            fontSizeMax: {\r\n                type: Number,\r\n                default: 30\r\n            },\r\n            backgroundColorMin: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            backgroundColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            colorMin: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            colorMax: {\r\n                type: Number,\r\n                default: 160\r\n            },\r\n            lineColorMin: {\r\n                type: Number,\r\n                default: 100\r\n            },lineColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            dotColorMin: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            dotColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            contentWidth: {\r\n                type: Number,\r\n                default: 112\r\n            },\r\n            contentHeight: {\r\n                type: Number,\r\n                default: 31\r\n            }\r\n        },\r\n        methods: {\r\n            // 生成一个随机数\r\n            randomNum(min, max) {\r\n                return Math.floor(Math.random() * (max - min) + min)\r\n            },\r\n            // 生成一个随机的颜色\r\n            randomColor(min, max) {\r\n                let r = this.randomNum(min, max)\r\n                let g = this.randomNum(min, max)\r\n                let b = this.randomNum(min, max)\r\n                return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n            },\r\n            drawPic() {\r\n                let canvas = document.getElementById('s-canvas')\r\n                let ctx = canvas.getContext('2d')\r\n                ctx.textBaseline = 'bottom'\r\n                // 绘制背景\r\n                ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax)\r\n                ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n                // 绘制文字\r\n                for (let i = 0; i < this.identifyCode.length; i++) {\r\n                    this.drawText(ctx, this.identifyCode[i], i)\r\n                }\r\n                this.drawLine(ctx)\r\n                this.drawDot(ctx)\r\n            },\r\n            drawText(ctx, txt, i) {\r\n                ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n                ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\r\n                let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n                let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n                var deg = this.randomNum(-45, 45)\r\n                // 修改坐标原点和旋转角度\r\n                ctx.translate(x, y)\r\n                ctx.rotate(deg * Math.PI / 180)\r\n                ctx.fillText(txt, 0, 0)\r\n                // 恢复坐标原点和旋转角度\r\n                ctx.rotate(-deg * Math.PI / 180)\r\n                ctx.translate(-x, -y)\r\n            },\r\n            drawLine(ctx) {\r\n                // 绘制干扰线\r\n                for (let i = 0; i < 5; i++) {\r\n                    ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n                    ctx.beginPath()\r\n                    ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n                    ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n                    ctx.stroke()\r\n                }\r\n            },\r\n            drawDot(ctx) {\r\n                // 绘制干扰点\r\n                for (let i = 0; i < 80; i++) {\r\n                    ctx.fillStyle = this.randomColor(0, 255)\r\n                    ctx.beginPath()\r\n                    ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n                    ctx.fill()\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            identifyCode() {\r\n                this.drawPic()\r\n            }\r\n        },\r\n        mounted() {\r\n            this.drawPic()\r\n        }\r\n    }\r\n</script>\r\n \r\n<style scoped>\r\n    .s-canvas {\r\n        height: 38px;\r\n \r\n    }\r\n    .s-canvas canvas{\r\n        margin-top: 1px;\r\n        margin-left: 8px;\r\n    }\r\n</style>","import { render } from \"./Identify.vue?vue&type=template&id=43e4f048&scoped=true\"\nimport script from \"./Identify.vue?vue&type=script&lang=js\"\nexport * from \"./Identify.vue?vue&type=script&lang=js\"\n\nimport \"./Identify.vue?vue&type=style&index=0&id=43e4f048&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-43e4f048\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"body\">\r\n    <div class=\"headpic\">\r\n      <img class=\"logo\" src=\"../../assets/image-2.png\" />\r\n      <div class=\"title\">&nbsp;&nbsp;警务处理系统</div>\r\n    </div>\r\n\r\n    <div class=\"login-page\">\r\n      <div class=\"login-container\">\r\n        <section>\r\n          <form @submit.prevent=\"submitForm\">\r\n            <p class=\"login-text\">登&nbsp;&nbsp;&nbsp;录</p>\r\n            <div class=\"put\">\r\n              <div>\r\n                <input\r\n                  id=\"userName\"\r\n                  type=\"text\"\r\n                  v-model=\"username\"\r\n                  autocomplete=\"off\"\r\n                  @focus=\"handleFocus1\"\r\n                  @blur=\"handleBlur1\"\r\n                  required\r\n                />\r\n                <div class=\"userNameTip\" :class=\"{ userNameTipA: isFocused }\">\r\n                  账号\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"put\">\r\n              <div>\r\n                <input\r\n                  id=\"password\"\r\n                  type=\"password\"\r\n                  autocomplete=\"off\"\r\n                  v-model=\"password\"\r\n                  required\r\n                  @focus=\"handleFocus2\"\r\n                  @blur=\"handleBlur2\"\r\n                />\r\n                <div class=\"userNameTip\" :class=\"{ userNameTipA: isFocused2 }\">\r\n                  密码\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"code-container\">\r\n              <div>\r\n                <input\r\n                  id=\"two-code-text\"\r\n                  v-model=\"formLogin\"\r\n                  autocomplete=\"off\"\r\n                  @focus=\"handleFocus3\"\r\n                  @blur=\"handleBlur3\"\r\n                />\r\n                <div class=\"userNameTip\" :class=\"{ userNameTipA: isFocused3 }\">\r\n                  验证码\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"code-image\" @click=\"refreshCode\">\r\n                <!-- 验证码组件 -->\r\n                <SIdentify :identifyCode=\"identifyCode\"></SIdentify>\r\n              </div>\r\n            </div>\r\n            <div class=\"bottombox\">\r\n              <button class=\"confirmlogin\" type=\"submit\">确认登录</button>\r\n              <div class=\"password-link\">\r\n                <a class=\"password-link-text\" @click=\"pagechange\">修改密码</a>\r\n              </div>\r\n            </div>\r\n            <div class=\"code-feedbackbox\">\r\n              <p v-if=\"error\" class=\"error-message\">{{ error }}</p>\r\n              <p v-else>&nbsp;</p>\r\n            </div>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"../../api/request\";\r\nimport SIdentify from \"./Identify.vue\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default {\r\n  components: {\r\n    SIdentify,\r\n  },\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      error: \"\",\r\n      //验证码\r\n      formLogin: \"\",\r\n      identifyCodes: \"1234567890abcdefjhijklinopqrsduvwxyz\", //随机串内容\r\n      identifyCode: \"\",\r\n      //鼠标点击\r\n      isFocused: false,\r\n      isFocused2: false,\r\n      isFocused3: false,\r\n    };\r\n  },\r\n  methods: {\r\n    handleFocus1() {\r\n      this.isFocused = true;\r\n      console.log(\"点击了\");\r\n    },\r\n    handleBlur1() {\r\n      let val = document.getElementById(\"userName\").value;\r\n      if (!val) {\r\n        this.isFocused = false;\r\n      }\r\n    },\r\n    pagechange() {\r\n      this.$router.push(\"/changepassword\");\r\n    },\r\n    handleFocus2() {\r\n      this.isFocused2 = true;\r\n      console.log(\"点击了\");\r\n    },\r\n    handleBlur2() {\r\n      let val = document.getElementById(\"password\").value;\r\n      if (!val) {\r\n        this.isFocused2 = false;\r\n      }\r\n    },\r\n    handleFocus3() {\r\n      this.isFocused3 = true;\r\n      console.log(\"点击了\");\r\n    },\r\n    handleBlur3() {\r\n      let val = document.getElementById(\"two-code-text\").value;\r\n      if (!val) {\r\n        this.isFocused3 = false;\r\n      }\r\n    },\r\n\r\n    refreshCode() {\r\n      this.identifyCode = \"\";\r\n      this.makeCode(this.identifyCodes, 4);\r\n    },\r\n    makeCode(o, l) {\r\n      for (let i = 0; i < l; i++) {\r\n        this.identifyCode +=\r\n          this.identifyCodes[this.randomNum(0, this.identifyCodes.length)];\r\n      }\r\n    },\r\n    randomNum(min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min);\r\n    },\r\n    submitForm() {\r\n      // 清除之前的错误信息 用于输入错误的时候\r\n      //this.error = \"\";\r\n\r\n      // 在这里执行登录逻辑，可以调用后端API进行验证\r\n      // 使用 this.username 和 this.password 获取账号和密码\r\n      const loginData = {\r\n        username: this.username,\r\n        password: this.password,\r\n      };\r\n      if (this.formLogin.toLowerCase() !== this.identifyCode.toLowerCase()) {\r\n        this.error = \"请填写正确验证码\";\r\n        setTimeout(() => {\r\n          this.error = \"\";\r\n        }, 1500);\r\n        this.refreshCode();\r\n        return;\r\n      }\r\n\r\n      axios\r\n        .post(\"/api/login\", loginData)\r\n        .then((response) => {\r\n          if (response.data.success) {\r\n            // 登录成功\r\n            this.refreshCode();\r\n            // 获取JWT令牌\r\n            const token = response.data.token;\r\n\r\n            localStorage.clear();\r\n\r\n            // 将JWT令牌存储在浏览器的本地存储中\r\n            localStorage.setItem(\"token\", token);\r\n            // this.$router.push({\r\n            //   name: \"success\",\r\n            //   params: {\r\n            //     username: this.username,\r\n            //   },\r\n            // });\r\n            const police_number =\r\n              jwt_decode(token)[\r\n                \"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\"\r\n              ];\r\n            const authority =\r\n              jwt_decode(token)[\r\n                \"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"\r\n              ];\r\n            localStorage.setItem(\"policeNumber\", police_number);\r\n            localStorage.setItem(\"authority\", authority);\r\n            localStorage.setItem(\"loginErr\", \"false\");\r\n            this.$router.push(\"/mainMenu\");\r\n          } else {\r\n            // 登录失败，显示错误提示\r\n            this.refreshCode();\r\n            this.error = \"账号或密码错误，请重新输入\";\r\n            setTimeout(() => {\r\n              this.error = \"\";\r\n            }, 1500);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          // 处理错误\r\n          console.error(error);\r\n          this.refreshCode();\r\n          this.error = \"登录失败，请稍后重试\";\r\n          setTimeout(() => {\r\n            this.error = \"\";\r\n          }, 1500);\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    // 初始化验证码\r\n    this.identifyCode = \"\";\r\n    this.makeCode(this.identifyCodes, 4);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\" scoped>\r\n.password-link-text {\r\n  text-decoration: underline;\r\n}\r\n.body {\r\n  background-image: url(\"../../assets/hellopolice.jpg\");\r\n  background-attachment: fixed;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  height: 100vh;\r\n  overflow: auto;\r\n}\r\n\r\n.headpic {\r\n  background: #1f2cdf;\r\n  background-image: url(\"../../assets/hdtest.jpg\"); /* 替换为你的背景图路径 */\r\n  background-size: contain;\r\n  background-position: right top; /* 背景图靠左上角 */\r\n  background-repeat: no-repeat;\r\n  width: 100%;\r\n  height: 70px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  left: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 20px;\r\n  .logo {\r\n    width: 70px;\r\n    height: 70px;\r\n    position: relative;\r\n    top: 2px;\r\n    left: 0px;\r\n  }\r\n  .title {\r\n    color: #ffffff;\r\n    text-align: left;\r\n    font: 400 36px \"Inter\", sans-serif;\r\n    display: inline-block;\r\n  }\r\n}\r\n\r\n.login-container {\r\n  display: flex;\r\n  margin: 0 auto;\r\n  margin-top: 50px;\r\n  padding: 20px;\r\n  border-radius: 4px;\r\n  height: 70%;\r\n  width: 30%;\r\n  max-width: 35%;\r\n  min-width: 400px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 0.3em;\r\n  backdrop-filter: blur(2px);\r\n  background-color: #2b2828ba;\r\n  box-shadow: 0 0 0 10px hsla(0, 2%, 73%, 0.711) inset,\r\n    0 0.3em 1em rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.login-text {\r\n  color: #fff;\r\n  text-align: center;\r\n  font-size: 40px; /* 字号大小 */\r\n  font-weight: bold; /* 字体加粗 */\r\n}\r\n\r\n#two-code-text {\r\n  display: inline-block;\r\n  width: 150px;\r\n  height: 30px;\r\n  color: #0ff;\r\n  font-size: 20px;\r\n  border: 0px transparent;\r\n  border-bottom: 3px solid #fff;\r\n  margin-left: 70px;\r\n  background-color: transparent;\r\n}\r\n\r\n#two-code-text:focus {\r\n  outline: none;\r\n  border-bottom: 3px solid #0ff;\r\n}\r\n\r\n.put {\r\n  display: flex;\r\n  position: relative;\r\n  width: 400px;\r\n  height: 100px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n}\r\n\r\n#userName {\r\n  display: inline-block;\r\n  width: 300px;\r\n  height: 30px;\r\n  color: #0ff;\r\n  font-size: 20px;\r\n  border: 0px transparent;\r\n  border-bottom: 3px solid #fff;\r\n  background-color: transparent;\r\n}\r\n\r\n#userName:focus {\r\n  outline: none;\r\n  border-bottom: 3px solid #0ff;\r\n}\r\n\r\n#password {\r\n  display: inline-block;\r\n  width: 300px;\r\n  height: 30px;\r\n  color: #0ff;\r\n  font-size: 20px;\r\n  border: 0px transparent;\r\n  border-bottom: 3px solid #fff;\r\n  background-color: transparent;\r\n}\r\n\r\n#password:focus {\r\n  outline: none;\r\n  border-bottom: 3px solid #0ff;\r\n}\r\n\r\n.userNameTip {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 20px;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #fff;\r\n}\r\n@keyframes user {\r\n  from {\r\n    top: 0px;\r\n    font-size: 20px;\r\n  }\r\n  to {\r\n    top: -20px;\r\n    font-size: 20px;\r\n    color: rgb(166, 243, 166);\r\n  }\r\n}\r\n\r\n.userNameTipA {\r\n  animation: user 0.3s linear normal forwards;\r\n  animation-iteration-count: 1;\r\n}\r\n\r\nbutton {\r\n  padding: 10px 20px;\r\n  background-color: #4caf60;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  margin-top: 20px;\r\n  font-weight: bold;\r\n}\r\n\r\n.code-container {\r\n  display: flex;\r\n  position: relative;\r\n  width: 400px;\r\n  height: 100px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n}\r\n\r\n.code-feedbackbox {\r\n  text-align: center;\r\n  bottom: 0;\r\n}\r\n\r\n.code-image {\r\n  flex: 1;\r\n  cursor: pointer;\r\n}\r\n\r\n.bottombox {\r\n  width: 100%;\r\n  height: 50px;\r\n}\r\n\r\n.confirmlogin {\r\n  float: right;\r\n  margin-right: 80px;\r\n}\r\n\r\n.password-link {\r\n  margin-left: 80px;\r\n}\r\n.password-link a {\r\n  color: white;\r\n}\r\n</style>\r\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","import { render } from \"./Login.vue?vue&type=template&id=1dee30ec&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=1dee30ec&lang=postcss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1dee30ec\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","id","width","$props","contentWidth","height","contentHeight","name","props","identifyCode","type","String","default","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","dotColorMin","dotColorMax","methods","randomNum","min","max","Math","floor","random","randomColor","r","this","g","b","drawPic","canvas","document","getElementById","ctx","getContext","textBaseline","fillStyle","fillRect","i","length","drawText","drawLine","drawDot","txt","font","x","y","deg","translate","rotate","PI","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","watch","mounted","__exports__","render","src","_imports_0","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_5","_hoisted_6","$data","username","$event","autocomplete","onFocus","handleFocus1","onBlur","handleBlur1","required","_normalizeClass","userNameTipA","isFocused","_hoisted_7","password","handleFocus2","handleBlur2","isFocused2","_hoisted_8","formLogin","handleFocus3","handleBlur3","isFocused3","onClick","refreshCode","_createVNode","_component_SIdentify","_hoisted_9","_hoisted_10","_hoisted_11","pagechange","_hoisted_12","error","_hoisted_13","_toDisplayString","_hoisted_14","e","message","prototype","Error","window","atob","bind","t","replace","n","o","a","c","charAt","fromCharCode","indexOf","decodeURIComponent","charCodeAt","toString","toUpperCase","header","JSON","parse","split","components","SIdentify","data","identifyCodes","console","log","val","value","$router","push","makeCode","l","loginData","toLowerCase","setTimeout","axios","post","then","response","success","token","localStorage","clear","setItem","police_number","jwt_decode","authority","catch"],"sourceRoot":""}