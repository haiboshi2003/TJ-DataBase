{"version":3,"file":"js/316.42d55e43.js","mappings":"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","sources":["webpack://dbproject/./src/components/CaseInvestigation.vue","webpack://dbproject/./src/components/CaseInvestigation.vue?4d73"],"sourcesContent":["<template>\n  <el-header class=\"sub-header\" @mousemove=\"handleMouseMove\">\n    <div>&nbsp;&nbsp;警务处理系统&nbsp;>&nbsp;案件办理</div>\n  </el-header>\n\n  <el-table v-if=\"process === '待调查案件'\" :data=\"cases\" height=\"450\" @wheel.passive.stop stripe\n    style=\"width: 100%; margin-top: 10vh\">\n    <el-table-column label=\"案件编号\" prop=\"caseID\" sortable width=\"104px\" />\n    <el-table-column label=\"案件类型\" prop=\"caseType\" sortable width=\"104px\" />\n    <el-table-column label=\"案件状态\" prop=\"status\" sortable width=\"104px\" />\n    <el-table-column label=\"登记时间\" prop=\"registerTime\" width=\"105px\" sortable />\n    <el-table-column label=\"案发地点\" prop=\"address\" sortable />\n    <el-table-column label=\"案件等级\" prop=\"ranking\" sortable width=\"104px\" />\n    <el-table-column align=\"right\" width=\"268px\">\n      <template #header>\n        <table>\n          <tr>\n            <td><el-text type=\"primary\" style=\"display: inline-block;\">筛选案件编号：</el-text></td>\n            <td><el-input v-model=\"caseID\" size=\"small\" placeholder=\"请输入案件编号\"\n                style=\"display: inline-block; width: 130px; height: 25px\" clearable maxlength=\"8\" /></td>\n          </tr>\n        </table>\n      </template>\n      <template #default=\"scope\">\n        <el-button size=\"small\" type=\"primary\" @click=\"setTeam(scope.$index, scope.row)\">进行调查</el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n\n  <div v-if=\"process === '选择办案人员'\" style=\"text-align: center\">\n    <el-table :data=\"policemen\" height=\"400\" @selection-change=\"selectPolicemen\" @wheel.passive.stop stripe\n      style=\"width: 100%; margin-top: 10vh\">\n      <el-table-column type=\"selection\" />\n      <el-table-column label=\"警员编号\" prop=\"policeNum\" sortable />\n      <el-table-column label=\"姓名\" prop=\"policeName\" sortable />\n      <el-table-column label=\"性别\" prop=\"gender\" sortable />\n      <el-table-column label=\"民族\" prop=\"nation\" sortable />\n      <el-table-column label=\"状态\" prop=\"status\" sortable />\n      <el-table-column label=\"职位\" prop=\"position\" sortable />\n      <el-table-column align=\"left\" width=\"260px\">\n        <template #header>\n          <table>\n            <tr>\n              <td><el-text type=\"primary\" style=\"display: inline-block; width: 130px\">当前选择{{ selectCaseID }}</el-text>\n              </td>\n              <td><el-button size=\"small\" type=\"primary\" @click=\"goBack\">重选案件</el-button></td>\n            </tr>\n            <tr>\n              <td><el-text type=\"primary\" style=\"display: inline-block;\">筛选警员编号：</el-text></td>\n              <td><el-input v-model=\"policemenID\" size=\"small\" placeholder=\"请输入警员编号\"\n                  style=\"display: inline-block; width: 100px; height: 25px\" /></td>\n            </tr>\n          </table>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-button type=\"primary\" @click=\"finish\" :disabled=\"isSet\" style=\"margin-top: 10px\">调查此案件</el-button>\n  </div>\n\n  <div v-if=\"process === '完成'\" style=\"text-align: center\">\n    <el-result icon=\"success\" title=\"案件已设为调查\" sub-title=\"点击按钮返回立案列表\">\n      <template #extra>\n        <el-button type=\"primary\" @click=\"backToH\">返回</el-button>\n      </template>\n    </el-result>\n  </div>\n</template>\n\n<script>\nimport axios from \"../api/request\";\n\nexport default {\n  data() {\n    return {\n      caseID: \"\",\n      process: \"待调查案件\",\n      cases: [],\n      policemen: \"\",\n      policemenID: \"\",\n      selectCaseID: \"\",\n      team: \"\",\n      isSet: true,\n    };\n  },\n  methods: {\n    handleMouseMove(event) {\n      const x = event.pageX - event.target.offsetLeft;\n      const y = event.pageY - event.target.offsetTop;\n\n      event.target.style.setProperty(\"--x\", `${x}px`);\n      event.target.style.setProperty(\"--y\", `${y}px`);\n    },\n    async setTeam(index, Case) {\n      this.process = \"选择办案人员\";\n      await this.getPolicemen();\n      this.selectCaseID = Case.caseID;\n    },\n    async getCases() {\n      try {\n        const response = await axios.get(`/api/caseInvestigation/queryCase?caseID=${encodeURIComponent(this.caseID)}`);\n\n        for (let i = 0; i < response.data.length; i++) {\n          // 将 alarmTime 中的 'T' 替换为空格\n          response.data[i].registerTime = response.data[i].registerTime.replace('T', ' ');\n          if (response.data[i].ranking == \"0\")\n            response.data[i].ranking = \"一般\";\n          else if (response.data[i].ranking == \"1\")\n            response.data[i].ranking = \"较大\";\n          else if (response.data[i].ranking == \"2\")\n            response.data[i].ranking = \"重大\";\n          else if (response.data[i].ranking == \"3\")\n            response.data[i].ranking = \"特别重大\";\n        }\n        this.cases = response.data;\n      } catch (error) {\n        // 请求失败时的处理逻辑\n        ElMessage({\n          showClose: true,\n          message: \"获取立案列表失败！\",\n          type: 'error',\n          duration: 5000,\n        });\n      }\n    },\n    async getPolicemen() {\n      try {\n        const response = await axios.get(`/api/caseInvestigation/queryPolicemen?policemenID=${encodeURIComponent(this.policemenID)}`);\n        this.policemen = response.data;\n      } catch (error) {\n        // 请求失败时的处理逻辑\n        ElMessage({\n          showClose: true,\n          message: \"获取警员列表失败！\",\n          type: 'error',\n          duration: 5000,\n        });\n      }\n    },\n    goBack() {\n      this.process = \"待调查案件\";\n      this.selectCaseID = \"\";\n    },\n    selectPolicemen(selection) {\n      this.team = selection;\n      if (this.team.length > 0) {\n        this.isSet = false;\n      }\n      else\n        this.isSet = true;\n\n    },\n    async finish() {\n      try {\n        await axios.put(`/api/caseInvestigation/modifyCaseStatus?caseID=${encodeURIComponent(this.selectCaseID)}`);\n        this.process = \"完成\";\n        this.selectCaseID = \"\";\n        this.team = \"\";\n        await this.getCases();\n      } catch (error) {\n        // 请求失败时的处理逻辑\n        ElMessage({\n          showClose: true,\n          message: \"进行调查失败！\",\n          type: 'error',\n          duration: 5000,\n        });\n      };\n\n\n    },\n    backToH() {\n      this.process = \"待调查案件\";\n    }\n  },\n  async created() {\n    await this.getCases();\n  },\n  watch: {\n    async caseID() {\n      await this.getCases();\n    },\n    async policemenID() {\n      await this.getPolicemen();\n    }\n  }\n};\n</script>\n\n<style>\n.sub-header {\n  overflow: hidden;\n  display: flex;\n  position: absolute;\n  top: 70px;\n  left: 199px;\n  width: calc(100% - 199px);\n  height: 7vh;\n  min-height: 40px;\n  align-items: center;\n  /* 文字竖直方向居中对齐 */\n  background-color: #1f2cdf;\n  box-shadow: inset -500px 0px 200px 0px rgba(4, 0, 113, 0.856);\n  color: #ffffff;\n  font-size: 28px;\n}\n\n.sub-header::before {\n  --size: 0;\n  content: '';\n  position: absolute;\n  left: var(--x);\n  top: var(--y);\n  width: var(--size);\n  height: var(--size);\n  background: radial-gradient(circle closest-side, #5a65ff, transparent);\n  transform: translate(-50%, -50%);\n  transition: width .2s ease, height .2s ease;\n}\n\n.sub-header:hover::before {\n  --size: 400px;\n}\n\n.main {\n  margin-top: 10vh;\n}\n\n.caseContainer {\n  width: 200pt;\n  background-color: rgb(20, 0, 98);\n  color: white;\n  position: relative;\n}\n\n.policeContainer {\n  width: 200pt;\n  background-color: rgb(98, 0, 0);\n  color: white;\n  position: relative;\n}\n\n.title {\n  text-align: center;\n}\n</style>\n","import { render } from \"./CaseInvestigation.vue?vue&type=template&id=3f64aeea\"\nimport script from \"./CaseInvestigation.vue?vue&type=script&lang=js\"\nexport * from \"./CaseInvestigation.vue?vue&type=script&lang=js\"\n\nimport \"./CaseInvestigation.vue?vue&type=style&index=0&id=3f64aeea&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","style","_createVNode","_component_el_header","class","onMousemove","$options","handleMouseMove","_hoisted_1","$data","process","_createBlock","_component_el_table","data","cases","height","stripe","_component_el_table_column","label","prop","sortable","width","align","header","_withCtx","_component_el_text","type","_component_el_input","caseID","$event","size","placeholder","clearable","maxlength","default","scope","_component_el_button","onClick","setTeam","$index","row","_createElementBlock","_hoisted_2","policemen","onSelectionChange","selectPolicemen","_toDisplayString","selectCaseID","goBack","policemenID","finish","disabled","isSet","_hoisted_3","_component_el_result","icon","title","extra","backToH","team","methods","event","x","pageX","target","offsetLeft","y","pageY","offsetTop","setProperty","index","Case","this","getPolicemen","getCases","response","axios","get","encodeURIComponent","i","length","registerTime","replace","ranking","error","ElMessage","showClose","message","duration","selection","put","created","watch","__exports__","render"],"sourceRoot":""}