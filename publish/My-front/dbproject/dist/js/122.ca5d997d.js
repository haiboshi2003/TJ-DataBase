"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[122],{8122:function(e,l,a){a.r(l),a.d(l,{default:function(){return B}});var t=a(3396),o=a(7139),d=a(9242);const n=e=>((0,t.dD)("data-v-ce2eb44c"),e=e(),(0,t.Cn)(),e),i=n((()=>(0,t._)("div",null,"  警员管理 > 执法录像管理",-1))),p={style:{"text-align":"center"}},s={style:{display:"inline-block","text-align":"left"}},u={class:"qianru"},m=n((()=>(0,t._)("td",null,null,-1))),r={class:"seaButton"},c={style:{"text-align":"center"}},y={style:{display:"inline-block","text-align":"left"}},h={class:"seaButton"},w={style:{"text-align":"center"}},V={style:{display:"inline-block","text-align":"left"}},I={style:{"text-align":"center"}},v={style:{display:"inline-block","text-align":"left"}},f={class:"qianru"},_=n((()=>(0,t._)("td",null,null,-1))),T={class:"seaButton"},x={style:{"text-align":"center"}},W={style:{display:"inline-block","text-align":"left"}},b={class:"seaButton"};function g(e,l,a,n,g,D){const U=(0,t.up)("el-header"),C=(0,t.up)("el-text"),k=(0,t.up)("el-input"),R=(0,t.up)("el-option"),B=(0,t.up)("el-select"),$=(0,t.up)("el-date-picker"),z=(0,t.up)("el-button"),P=(0,t.up)("el-divider"),M=(0,t.up)("el-table-column"),S=(0,t.up)("el-table"),Z=(0,t.up)("el-tab-pane"),O=(0,t.up)("el-tabs");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(U,{class:"sub-header",onMousemove:D.handleMouseMove},{default:(0,t.w5)((()=>[i])),_:1},8,["onMousemove"]),(0,t.Wm)(O,{modelValue:g.anv,"onUpdate:modelValue":l[20]||(l[20]=e=>g.anv=e),type:"border-card",style:{"margin-top":"10vh"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{label:"查询录像",name:"1"},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t._)("table",s,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("录像编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:g.videoID,"onUpdate:modelValue":l[0]||(l[0]=e=>g.videoID=e),placeholder:"请输入录像编号",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"220px"},clearable:"",maxlength:"5","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("录像类型:")])),_:1}),(0,t.Wm)(B,{class:"inputBox",modelValue:g.videoType,"onUpdate:modelValue":l[1]||(l[1]=e=>g.videoType=e),placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{selected:"",label:"全部类型",value:""}),(0,t.Wm)(R,{label:"审讯",value:"审讯"}),(0,t.Wm)(R,{label:"监控",value:"监控"}),(0,t.Wm)(R,{label:"调查",value:"调查"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("记录日期:")])),_:1}),(0,t.Wm)($,{class:"inputBox",modelValue:g.recordTime,"onUpdate:modelValue":l[2]||(l[2]=e=>g.recordTime=e),type:"date",placeholder:"请选择出勤日期",style:{"margin-left":"10px",width:"220px"}},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("是否筛选时间:")])),_:1}),(0,t.Wm)(B,{class:"inputBox",modelValue:g.isT,"onUpdate:modelValue":l[3]||(l[3]=e=>g.isT=e),style:{"margin-left":"10px",width:"200px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{label:"不筛选",value:"F"}),(0,t.Wm)(R,{label:"筛选",value:"T"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("涉及案件编号:")])),_:1}),(0,t.Wm)(k,{modelValue:g.caseID,"onUpdate:modelValue":l[4]||(l[4]=e=>g.caseID=e),placeholder:"请输入案件编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":"",style:{width:"220px","margin-left":"10px"}},{prepend:(0,t.w5)((()=>[(0,t._)("div",u,(0,o.zw)(g.type1),1)])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("案件类型:")])),_:1}),(0,t.Wm)(B,{class:"inputBox",modelValue:g.caseType,"onUpdate:modelValue":l[5]||(l[5]=e=>g.caseType=e),style:{"margin-left":"10px",width:"200px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{label:"全部类型",value:""}),(0,t.Wm)(R,{label:"强奸",value:"强奸"}),(0,t.Wm)(R,{label:"抢劫",value:"抢劫"}),(0,t.Wm)(R,{label:"故意伤害",value:"故意伤害"}),(0,t.Wm)(R,{label:"盗窃",value:"盗窃"}),(0,t.Wm)(R,{label:"诈骗",value:"诈骗"}),(0,t.Wm)(R,{label:"谋杀",value:"谋杀"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("录制警员编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:g.policemenID,"onUpdate:modelValue":l[6]||(l[6]=e=>g.policemenID=e),placeholder:"请输入警员编号",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"220px"},clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),m])]),(0,t._)("div",r,[(0,t.Wm)(z,{type:"primary",onClick:D.fetchVideoInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("查询")])),_:1},8,["onClick"])])]),(0,t.Wm)(P),(0,t._)("div",null,[(0,t.Wm)(S,{data:g.videoInfo,stripe:"",height:"450",onWheelPassive:l[7]||(l[7]=(0,d.iM)((()=>{}),["stop"]))},{default:(0,t.w5)((()=>[(0,t.Wm)(M,{prop:"videoID",label:"录像编号",sortable:"",width:"130px"}),(0,t.Wm)(M,{prop:"videoType",label:"录像类型",sortable:"",width:"130px"}),(0,t.Wm)(M,{prop:"recordTime",label:"记录时间",sortable:""}),(0,t.Wm)(M,{prop:"uploadTime",label:"上传时间",sortable:""}),(0,t.Wm)(M,{prop:"caseID",label:"涉及案件",width:"130px",sortable:""}),(0,t.Wm)(M,{prop:"policemenID",label:"进行记录的警员",sortable:"",width:"160px"})])),_:1},8,["data"])])])),_:1}),(0,t.Wm)(Z,{label:"新增录像",name:"2"},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("table",y,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("录像编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:g.addVideoID,"onUpdate:modelValue":l[8]||(l[8]=e=>g.addVideoID=e),placeholder:"请输入录像编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"5","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("录像类型:")])),_:1}),(0,t.Wm)(B,{class:"inputBox",modelValue:g.addVideoType,"onUpdate:modelValue":l[9]||(l[9]=e=>g.addVideoType=e),placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{label:"审讯",value:"审讯"}),(0,t.Wm)(R,{label:"监控",value:"监控"}),(0,t.Wm)(R,{label:"调查",value:"调查"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("记录时间:")])),_:1}),(0,t.Wm)($,{class:"inputBox",modelValue:g.addRecordTime,"onUpdate:modelValue":l[10]||(l[10]=e=>g.addRecordTime=e),type:"datetime",placeholder:"请选择出勤时间",style:{"margin-left":"10px",width:"200px"}},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("录制警员编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:g.addPolicemenID,"onUpdate:modelValue":l[11]||(l[11]=e=>g.addPolicemenID=e),placeholder:"请输入警员编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])])])]),(0,t._)("div",h,[(0,t.Wm)(z,{type:"primary",onClick:D.addVideoInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("上传录像")])),_:1},8,["onClick"])])])])),_:1}),(0,t.Wm)(Z,{label:"删除录像",name:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",w,[(0,t._)("table",V,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("录像编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:g.delVideoID,"onUpdate:modelValue":l[12]||(l[12]=e=>g.delVideoID=e),placeholder:"请输入录像编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"5","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(z,{type:"primary",onClick:D.delVideoInfo,style:{"margin-left":"20px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("删除录像")])),_:1},8,["onClick"])])])])])])),_:1}),(0,t.Wm)(Z,{label:"添加/修改关联案件",name:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",I,[(0,t._)("table",v,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("涉及案件编号:")])),_:1}),(0,t.Wm)(k,{modelValue:g.relCaseID,"onUpdate:modelValue":l[13]||(l[13]=e=>g.relCaseID=e),placeholder:"请输入案件编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":"",style:{width:"220px","margin-left":"10px"}},{prepend:(0,t.w5)((()=>[(0,t._)("div",f,(0,o.zw)(g.type2),1)])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("案件类型:")])),_:1}),(0,t.Wm)(B,{class:"inputBox",modelValue:g.relCaseType,"onUpdate:modelValue":l[14]||(l[14]=e=>g.relCaseType=e),style:{"margin-left":"10px",width:"200px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{label:"强奸",value:"强奸"}),(0,t.Wm)(R,{label:"抢劫",value:"抢劫"}),(0,t.Wm)(R,{label:"故意伤害",value:"故意伤害"}),(0,t.Wm)(R,{label:"盗窃",value:"盗窃"}),(0,t.Wm)(R,{label:"诈骗",value:"诈骗"}),(0,t.Wm)(R,{label:"谋杀",value:"谋杀"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("录像编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:g.relVideoID,"onUpdate:modelValue":l[15]||(l[15]=e=>g.relVideoID=e),placeholder:"请输入录像编号",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"220px"},clearable:"",maxlength:"5","show-word-limit":""},null,8,["modelValue"])]),_])]),(0,t._)("div",T,[(0,t.Wm)(z,{type:"primary",onClick:D.relVideoInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("关联案件")])),_:1},8,["onClick"])])])])),_:1}),(0,t.Wm)(Z,{label:"修改信息",name:"5"},{default:(0,t.w5)((()=>[(0,t._)("div",x,[(0,t._)("table",W,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("录像编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:g.updVideoID,"onUpdate:modelValue":l[16]||(l[16]=e=>g.updVideoID=e),placeholder:"请输入录像编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"5","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新录像类型:")])),_:1}),(0,t.Wm)(B,{class:"inputBox",modelValue:g.updVideoType,"onUpdate:modelValue":l[17]||(l[17]=e=>g.updVideoType=e),placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{label:"审讯",value:"审讯"}),(0,t.Wm)(R,{label:"监控",value:"监控"}),(0,t.Wm)(R,{label:"调查",value:"调查"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新记录时间:")])),_:1}),(0,t.Wm)($,{class:"inputBox",modelValue:g.updRecordTime,"onUpdate:modelValue":l[18]||(l[18]=e=>g.updRecordTime=e),type:"date",placeholder:"请选择出勤日期",style:{"margin-left":"10px",width:"200px"}},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(C,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新警员编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:g.updPolicemenID,"onUpdate:modelValue":l[19]||(l[19]=e=>g.updPolicemenID=e),placeholder:"请输入警员编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])])])]),(0,t._)("div",b,[(0,t.Wm)(z,{type:"primary",onClick:D.updVideoInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("更新修改信息")])),_:1},8,["onClick"])])])])),_:1})])),_:1},8,["modelValue"])],64)}var D=a(7138),U=a(7178),C={data(){return{anv:"1",videoID:"",videoType:"",recordTime:new Date,isT:"F",caseID:"",caseType:"",policemenID:"",videoInfo:[],type1:"",type2:"",addVideoID:"",addVideoType:"",addRecordTime:new Date,addPolicemenID:"",delVideoID:"",relCaseID:"",relCaseType:"",relVideoID:"",updVideoID:"",updVideoType:"",updRecordTime:new Date,updPolicemenID:""}},methods:{handleMouseMove(e){const l=e.pageX-e.target.offsetLeft,a=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${l}px`),e.target.style.setProperty("--y",`${a}px`)},async fetchVideoInfo(){try{this.recordTime=new Date(this.recordTime).toISOString();const e=await D.Z.get(`/api/videoInfo?videoID=${encodeURIComponent(this.videoID)}&videoType=${encodeURIComponent(this.videoType)}&recordTime=${encodeURIComponent(this.recordTime)}&isT=${encodeURIComponent(this.isT)}&caseID=${encodeURIComponent(this.caseID)}&caseType=${encodeURIComponent(this.caseType)}&policemenID=${encodeURIComponent(this.policemenID)}`);for(let l=0;l<e.data.length;l++)e.data[l].recordTime=e.data[l].recordTime.replace("T"," "),e.data[l].uploadTime=e.data[l].uploadTime.replace("T"," ");this.videoInfo=e.data}catch(e){(0,U.z8)({showClose:!0,message:"获取录像列表失败！",type:"error",duration:5e3})}},async addVideoInfo(){try{this.addRecordTime=new Date(this.addRecordTime).toISOString();const e=await D.Z.post(`/api/addVideo?videoID=${encodeURIComponent(this.addVideoID)}&videoType=${encodeURIComponent(this.addVideoType)}&recordTime=${encodeURIComponent(this.addRecordTime)}&policemenID=${encodeURIComponent(this.addPolicemenID)}`);"string"==typeof e.data?(0,U.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchVideoInfo(),(0,U.z8)({showClose:!0,message:"新增录像成功! ",type:"success",duration:5e3}))}catch(e){(0,U.z8)({showClose:!0,message:"新增录像失败！",type:"error",duration:5e3})}},async delVideoInfo(){try{const e=await D.Z.delete(`/api/delVideo?videoID=${encodeURIComponent(this.delVideoID)}`);"string"==typeof e.data?(0,U.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchVideoInfo(),(0,U.z8)({showClose:!0,message:"删除录像成功! ",type:"success",duration:5e3}))}catch(e){(0,U.z8)({showClose:!0,message:"删除录像失败！",type:"error",duration:5e3})}},async updVideoInfo(){try{this.updRecordTime=new Date(this.updRecordTime).toISOString();const e=await D.Z.put(`/api/updVideo?videoID=${encodeURIComponent(this.updVideoID)}&videoType=${encodeURIComponent(this.updVideoType)}&recordTime=${encodeURIComponent(this.updRecordTime)}&policemenID=${encodeURIComponent(this.updPolicemenID)}`);"string"==typeof e.data?(0,U.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchVideoInfo(),(0,U.z8)({showClose:!0,message:"修改成功! ",type:"success",duration:5e3}))}catch(e){(0,U.z8)({showClose:!0,message:"修改失败！",type:"error",duration:5e3})}},async relVideoInfo(){try{const e=await D.Z.put(`/api/relVideo?videoID=${encodeURIComponent(this.relVideoID)}&caseID=${encodeURIComponent(this.relCaseID)}&caseType=${encodeURIComponent(this.relCaseType)}`);"string"==typeof e.data?(0,U.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchVideoInfo(),(0,U.z8)({showClose:!0,message:"关联成功! ",type:"success",duration:5e3}))}catch(e){(0,U.z8)({showClose:!0,message:"关联失败！",type:"error",duration:5e3})}},typeToID(e){return""===e?"":"强奸"===e?"A":"抢劫"===e?"R":"故意伤害"===e?"H":"盗窃"===e?"T":"诈骗"===e?"C":"谋杀"===e?"M":((0,U.z8)({showClose:!0,message:"案件类型转换错误！",type:"error",duration:5e3}),"")}},watch:{caseType(){this.type1=this.typeToID(this.caseType)},relCaseType(){this.type2=this.typeToID(this.relCaseType)}},async created(){await this.fetchVideoInfo()}},k=a(89);const R=(0,k.Z)(C,[["render",g],["__scopeId","data-v-ce2eb44c"]]);var B=R}}]);
//# sourceMappingURL=122.ca5d997d.js.map