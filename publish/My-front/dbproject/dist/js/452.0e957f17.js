"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[452],{4452:function(e,s,t){t.r(s),t.d(s,{default:function(){return B}});var l=t(3396),o=t(9242),a=t(7139);const r=e=>((0,l.dD)("data-v-58094bb5"),e=e(),(0,l.Cn)(),e),n=r((()=>(0,l._)("div",null,"  警员管理 > 警员权限修改",-1))),i={class:"container"},c={class:"content"},d={style:{"margin-top":"10px","margin-left":"50px","font-size":"20px"}},h=r((()=>(0,l._)("div",{style:{"margin-top":"40px","margin-left":"40px",display:"inline-block",color:"#524c3e"}}," 搜索警员     ",-1))),u=r((()=>(0,l._)("span",{class:"ssqpoptip"},"仅支持警号搜索!",-1))),p=r((()=>(0,l._)("span",null,"确认",-1))),m=[p],g={key:0,class:"custom-table"},_=r((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{style:{width:"100px"}},"警号"),(0,l._)("th",{style:{width:"100px"}},"姓名"),(0,l._)("th",{style:{width:"200px"}},"身份证号码"),(0,l._)("th",{style:{width:"200px"}},"电话号码")])],-1))),M={class:"cell-spacing"},b={class:"cell-spacing"},w={class:"cell-spacing"},y={class:"cell-spacing"},v={class:"center-align"},f={class:"middle-align"},x=["disabled"],C=r((()=>(0,l._)("span",null,"申请修改权限",-1))),k=[C];function R(e,s,t,r,p,C){const R=(0,l.up)("el-header"),P=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(R,{class:"sub-header",onMousemove:C.handleMouseMove},{default:(0,l.w5)((()=>[n])),_:1},8,["onMousemove"]),(0,l._)("div",i,[(0,l._)("div",c,[(0,l._)("div",d,[h,(0,l.wy)((0,l._)("input",{style:{display:"inline-block"},"onUpdate:modelValue":s[0]||(s[0]=e=>p.searchKeyword=e),placeholder:"请输入正确的警号"},null,512),[[o.nr,p.searchKeyword]]),u]),(0,l._)("button",{class:"cpbutton",onMousemove:s[1]||(s[1]=(...e)=>C.handleMouseMove&&C.handleMouseMove(...e)),onClick:s[2]||(s[2]=(...e)=>C.search&&C.search(...e))},m,32),p.searchResult?((0,l.wg)(),(0,l.iD)("table",g,[_,(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",M,(0,a.zw)(p.searchResult.police_number),1),(0,l._)("td",b,(0,a.zw)(p.searchResult.police_name),1),(0,l._)("td",w,(0,a.zw)(p.searchResult.iD_number),1),(0,l._)("td",y,(0,a.zw)(p.searchResult.phone_number),1)])])])):(0,l.kq)("",!0),(0,l._)("div",v,[(0,l._)("div",f,[(0,l._)("button",{class:"cpbutton",style:{"margin-left":"60px",width:"180px"},onMousemove:s[3]||(s[3]=(...e)=>C.handleMouseMove&&C.handleMouseMove(...e)),onClick:s[4]||(s[4]=(...e)=>C.modifyPermissions&&C.modifyPermissions(...e)),disabled:p.disableButton},k,40,x)])]),(0,l.Wm)(P,{title:"错误提示",modelValue:p.showErrorMessage,"onUpdate:modelValue":s[5]||(s[5]=e=>p.showErrorMessage=e),onClose:C.handleClose},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(p.errorMessage),1)])),_:1},8,["modelValue","onClose"])])])],64)}t(7658);var P=t(7138),E={data(){return{searchKeyword:"",searchResult:{},selectedPermission:"read",showErrorMessage:!1,errorMessage:"",disableButton:!0}},methods:{search(){if(this.searchResult={},this.errorMessage="",!this.searchKeyword)return this.errorMessage="搜索关键字不能为空",void(this.showErrorMessage=!0);P.Z.post("/api/search",{temp:this.searchKeyword}).then((e=>{this.searchResult=e.data,this.disableButton=!1})).catch((e=>{console.error(e),this.searchResult={},this.errorMessage="搜索失败，请输入正确警号或稍后重试",this.showErrorMessage=!0,this.disableButton=!0}))},modifyPermissions(){localStorage.setItem("CPid",this.searchResult.police_number),localStorage.setItem("CPname",this.searchResult.police_name),localStorage.setItem("CPmynumber","6982809"),this.$router.push("/mainMenu/ApplyForPermission")},closeErrorMessage(){this.showErrorMessage=!1},handleMouseMove(e){const s=e.pageX-e.target.offsetLeft,t=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${s}px`),e.target.style.setProperty("--y",`${t}px`)},handleClose(){this.showErrorMessage=!1}}},z=t(89);const K=(0,z.Z)(E,[["render",R],["__scopeId","data-v-58094bb5"]]);var B=K}}]);
//# sourceMappingURL=452.0e957f17.js.map