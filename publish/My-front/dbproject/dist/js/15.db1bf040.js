"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[15],{5015:function(e,l,o){o.r(l),o.d(l,{default:function(){return I}});var t=o(3396),a=o(9242);const n=e=>((0,t.dD)("data-v-6b290cc6"),e=e(),(0,t.Cn)(),e),m=n((()=>(0,t._)("div",null,"  警员管理 > 警员信息管理",-1))),i={style:{"text-align":"center"}},p={style:{display:"inline-block","text-align":"left"}},d={class:"seaButton"},u={style:{"text-align":"center"}},c={style:{display:"inline-block","text-align":"left"}},s={style:{"text-align":"center"}},r={style:{display:"inline-block","text-align":"left"}},h={style:{"text-align":"center"}},y={style:{display:"inline-block","text-align":"left"}},w={class:"seaButton"};function x(e,l,o,n,x,b){const _=(0,t.up)("el-header"),P=(0,t.up)("el-text"),f=(0,t.up)("el-input"),W=(0,t.up)("el-option"),I=(0,t.up)("el-select"),g=(0,t.up)("el-button"),U=(0,t.up)("el-divider"),V=(0,t.up)("el-table-column"),v=(0,t.up)("el-table"),k=(0,t.up)("el-tab-pane"),C=(0,t.up)("el-date-picker"),D=(0,t.up)("el-tabs");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(_,{class:"sub-header",onMousemove:b.handleMouseMove},{default:(0,t.w5)((()=>[m])),_:1},8,["onMousemove"]),(0,t.Wm)(D,{modelValue:x.anv,"onUpdate:modelValue":l[19]||(l[19]=e=>x.anv=e),type:"border-card",style:{"margin-top":"10vh"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"查询警员信息",name:"1"},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t._)("table",p,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("警员编号:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.policemenID,"onUpdate:modelValue":l[0]||(l[0]=e=>x.policemenID=e),placeholder:"请输入警员编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"231px"},"show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("姓名:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.policemenName,"onUpdate:modelValue":l[1]||(l[1]=e=>x.policemenName=e),style:{width:"250px"},placeholder:"请输入姓名",clearable:""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("身份证号:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.policemenIDNum,"onUpdate:modelValue":l[2]||(l[2]=e=>x.policemenIDNum=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"231px"},"show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("出生年份:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.policemenYear,"onUpdate:modelValue":l[3]||(l[3]=e=>x.policemenYear=e),style:{width:"200px"},placeholder:"请输入年份",clearable:"",maxlength:"4",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":"",onKeyup:(0,a.D2)(b.checkYear,["enter"]),onBlur:b.checkYear},null,8,["modelValue","onKeyup","onBlur"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("性别:")])),_:1}),(0,t.Wm)(I,{class:"inputBox",modelValue:x.policemenSex,"onUpdate:modelValue":l[4]||(l[4]=e=>x.policemenSex=e),style:{width:"231px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{label:"全部性别",selected:"",value:""}),(0,t.Wm)(W,{label:"男",value:"M"}),(0,t.Wm)(W,{label:"女",value:"F"})])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("民族:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.policemenNation,"onUpdate:modelValue":l[5]||(l[5]=e=>x.policemenNation=e),style:{width:"250px"},placeholder:"请输入民族",clearable:""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("状态:")])),_:1}),(0,t.Wm)(I,{class:"inputBox",modelValue:x.policemenStatus,"onUpdate:modelValue":l[6]||(l[6]=e=>x.policemenStatus=e),style:{width:"231px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{label:"全部状态",selected:"",value:""}),(0,t.Wm)(W,{label:"在职",value:"在职"}),(0,t.Wm)(W,{label:"离职",value:"离职"})])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("职务:")])),_:1}),(0,t.Wm)(I,{class:"inputBox",modelValue:x.policemenPosition,"onUpdate:modelValue":l[7]||(l[7]=e=>x.policemenPosition=e),style:{width:"200px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{label:"全部职务",selected:"",value:""}),(0,t.Wm)(W,{label:"学员",value:"学员"}),(0,t.Wm)(W,{label:"警员",value:"警员"}),(0,t.Wm)(W,{label:"警司",value:"警司"}),(0,t.Wm)(W,{label:"警督",value:"警督"}),(0,t.Wm)(W,{label:"警监",value:"警监"}),(0,t.Wm)(W,{label:"总警监",value:"总警监"})])),_:1},8,["modelValue"])])])]),(0,t._)("div",d,[(0,t.Wm)(g,{type:"primary",onClick:b.fetchPolicemenInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("查询")])),_:1},8,["onClick"])])]),(0,t.Wm)(U),(0,t._)("div",null,[(0,t.Wm)(v,{data:x.policemenInfo,stripe:"",height:"450",onWheelPassive:l[8]||(l[8]=(0,a.iM)((()=>{}),["stop"]))},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{prop:"pid",label:"警员编号",sortable:"",width:"105px"}),(0,t.Wm)(V,{prop:"name",label:"姓名",sortable:"",width:"105px"}),(0,t.Wm)(V,{prop:"idn",label:"身份证号",sortable:""}),(0,t.Wm)(V,{prop:"birthday",label:"出生日期",sortable:"",width:"110px"}),(0,t.Wm)(V,{prop:"gender",label:"性别",sortable:"",width:"80px"}),(0,t.Wm)(V,{prop:"nation",label:"民族",sortable:"",width:"80px"}),(0,t.Wm)(V,{prop:"phone",label:"电话",sortable:"",width:"120px"}),(0,t.Wm)(V,{prop:"email",label:"邮箱",sortable:""}),(0,t.Wm)(V,{prop:"status",label:"状态",sortable:"",width:"80px"}),(0,t.Wm)(V,{prop:"position",label:"职务",sortable:"",width:"80px"})])),_:1},8,["data"])])])),_:1}),(0,t.Wm)(k,{label:"警员离职登记",name:"2"},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t._)("table",c,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("警员编号：")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.depPolicemenID,"onUpdate:modelValue":l[9]||(l[9]=e=>x.depPolicemenID=e),placeholder:"请输入警员编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(g,{type:"primary",onClick:b.depart,style:{"margin-left":"20px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("登记离职")])),_:1},8,["onClick"])])])])])])),_:1}),(0,t.Wm)(k,{label:"删除警员信息",name:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",s,[(0,t._)("table",r,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("警员编号：")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.delPolicemenID,"onUpdate:modelValue":l[10]||(l[10]=e=>x.delPolicemenID=e),placeholder:"请输入警员编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(g,{type:"primary",onClick:b.delPolicemenInfo,style:{"margin-left":"20px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("删除警员")])),_:1},8,["onClick"])])])])])])),_:1}),(0,t.Wm)(k,{label:"修改警员信息",name:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",h,[(0,t._)("table",y,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("警员编号:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.updPolicemenID,"onUpdate:modelValue":l[11]||(l[11]=e=>x.updPolicemenID=e),placeholder:"请输入警员编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"231px"},"show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新姓名:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.updPolicemenName,"onUpdate:modelValue":l[12]||(l[12]=e=>x.updPolicemenName=e),style:{width:"250px"},placeholder:"请输入姓名",clearable:""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新身份证号:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.updPolicemenIDNum,"onUpdate:modelValue":l[13]||(l[13]=e=>x.updPolicemenIDNum=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"231px"},"show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新出生日期:")])),_:1}),(0,t.Wm)(C,{class:"inputBox",modelValue:x.updPolicemenTime,"onUpdate:modelValue":l[14]||(l[14]=e=>x.updPolicemenTime=e),type:"date",placeholder:"请选择出勤时间",style:{"margin-left":"10px",width:"200px"}},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新性别:")])),_:1}),(0,t.Wm)(I,{class:"inputBox",modelValue:x.updPolicemenSex,"onUpdate:modelValue":l[15]||(l[15]=e=>x.updPolicemenSex=e),style:{width:"231px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{label:"男",value:"M"}),(0,t.Wm)(W,{label:"女",value:"F"})])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新民族:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.updPolicemenNation,"onUpdate:modelValue":l[16]||(l[16]=e=>x.updPolicemenNation=e),style:{width:"250px"},placeholder:"请输入民族",clearable:""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新电话:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.updPolicemenPhone,"onUpdate:modelValue":l[17]||(l[17]=e=>x.updPolicemenPhone=e),style:{width:"231px"},placeholder:"请输入电话",clearable:"",maxlength:"11",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(P,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新邮件:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:x.updPolicemenEmail,"onUpdate:modelValue":l[18]||(l[18]=e=>x.updPolicemenEmail=e),style:{width:"250px"},placeholder:"请输入邮件",clearable:""},null,8,["modelValue"])])])]),(0,t._)("div",w,[(0,t.Wm)(g,{type:"primary",onClick:b.updPolicemenInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("更新警员信息")])),_:1},8,["onClick"])])])])),_:1})])),_:1},8,["modelValue"])],64)}var b=o(7138),_=o(7178),P={data(){return{anv:"1",policemenID:"",policemenName:"",policemenIDNum:"",policemenYear:"",policemenSex:"",policemenNation:"",policemenStatus:"",policemenPosition:"",policemenInfo:[],delPolicemenID:"",depPolicemenID:"",updPolicemenID:"",updPolicemenName:"",updPolicemenIDNum:"",updPolicemenTime:new Date,updPolicemenSex:"",updPolicemenNation:"",updPolicemenPhone:"",updPolicemenEmail:""}},methods:{handleMouseMove(e){const l=e.pageX-e.target.offsetLeft,o=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${l}px`),e.target.style.setProperty("--y",`${o}px`)},checkYear(){Number(this.policemenYear)<1900&&(this.policemenYear="1900"),Number(this.policemenYear)>2100&&(this.policemenYear="2100")},async fetchPolicemenInfo(){try{const e=await b.Z.get(`/api/policemenInfo?policemenID=${encodeURIComponent(this.policemenID)}&policemenName=${encodeURIComponent(this.policemenName)}&policemenIDNum=${encodeURIComponent(this.policemenIDNum)}&policemenYear=${encodeURIComponent(this.policemenYear)}&policemenSex=${encodeURIComponent(this.policemenSex)}&policemenNation=${encodeURIComponent(this.policemenNation)}&policemenStatus=${encodeURIComponent(this.policemenStatus)}&policemenPosition=${encodeURIComponent(this.policemenPosition)}`);this.policemenInfo=e.data.map((e=>"M"===e.gender?{...e,gender:"男"}:"F"===e.gender?{...e,gender:"女"}:e))}catch(e){(0,_.z8)({showClose:!0,message:"获取警员列表失败！",type:"error",duration:5e3})}},async delPolicemenInfo(){try{const e=localStorage.getItem("policeNumber"),l=await b.Z.delete(`/api/delPolicemen?policemenID=${encodeURIComponent(this.delPolicemenID)}&myPolicemenID=${encodeURIComponent(e)}`);"string"==typeof l.data?(0,_.z8)({showClose:!0,message:l.data,type:"warning",duration:5e3}):(await this.fetchPolicemenInfo(),(0,_.z8)({showClose:!0,message:"删除警员成功! ",type:"success",duration:5e3}))}catch(e){(0,_.z8)({showClose:!0,message:"删除警员失败！",type:"error",duration:5e3})}},async depart(){try{const e=localStorage.getItem("policeNumber"),l=await b.Z.put(`/api/depart?policemenID=${encodeURIComponent(this.depPolicemenID)}&myPolicemenID=${encodeURIComponent(e)}`);"string"==typeof l.data?(0,_.z8)({showClose:!0,message:l.data,type:"warning",duration:5e3}):(await this.fetchPolicemenInfo(),(0,_.z8)({showClose:!0,message:"登记成功! ",type:"success",duration:5e3}))}catch(e){(0,_.z8)({showClose:!0,message:"登记失败！",type:"error",duration:5e3})}},async updPolicemenInfo(){try{const e=localStorage.getItem("policeNumber");this.updPolicemenTime=new Date(this.updPolicemenTime).toISOString();const l=await b.Z.put(`/api/updPolicemen?policemenID=${encodeURIComponent(this.updPolicemenID)}&policemenName=${encodeURIComponent(this.updPolicemenName)}&policemenIDNum=${encodeURIComponent(this.updPolicemenIDNum)}&policemenTime=${encodeURIComponent(this.updPolicemenTime)}&policemenSex=${encodeURIComponent(this.updPolicemenSex)}&policemenNation=${encodeURIComponent(this.updPolicemenNation)}&myPolicemenID=${encodeURIComponent(e)}&policemenPhone=${encodeURIComponent(this.updPolicemenPhone)}&policemenEmail=${encodeURIComponent(this.updPolicemenEmail)}`);"string"==typeof l.data?(0,_.z8)({showClose:!0,message:l.data,type:"warning",duration:5e3}):(await this.fetchPolicemenInfo(),(0,_.z8)({showClose:!0,message:"修改成功! ",type:"success",duration:5e3}))}catch(e){console.log(e),(0,_.z8)({showClose:!0,message:"修改失败！",type:"error",duration:5e3})}}},watch:{updPolicemenYear(){this.updPolicemenMonth="",this.updPolicemenDay=""},updPolicemenMonth(){this.updPolicemenDay=""}},async created(){await this.fetchPolicemenInfo()}},f=o(89);const W=(0,f.Z)(P,[["render",x],["__scopeId","data-v-6b290cc6"]]);var I=W}}]);
//# sourceMappingURL=15.db1bf040.js.map