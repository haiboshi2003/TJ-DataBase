"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[185],{2185:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var l=a(3396),o=a(9242);const s=(0,l._)("div",null,"  案件管理 > 重点人员统计",-1),i={class:"main"};function r(e,t,a,r,d,n){const p=(0,l.up)("el-header"),u=(0,l.up)("el-table-column"),c=(0,l.up)("el-text"),m=(0,l.up)("el-input"),h=(0,l.up)("el-option"),y=(0,l.up)("el-select"),f=(0,l.up)("el-button"),w=(0,l.up)("el-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(p,{class:"sub-header",onMousemove:n.handleMouseMove},{default:(0,l.w5)((()=>[s])),_:1},8,["onMousemove"]),(0,l._)("div",i,[d.isDetail?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(w,{key:0,data:d.repeatOffenderInfo,height:"450",onWheelPassive:t[4]||(t[4]=(0,o.iM)((()=>{}),["stop"])),stripe:"",style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{label:"身份证号码",prop:"身份证号",sortable:"",width:"180px"}),(0,l.Wm)(u,{label:"姓名",prop:"姓名",sortable:"",width:"100px"}),(0,l.Wm)(u,{label:"性别",prop:"性别",sortable:"",width:"80px"}),(0,l.Wm)(u,{label:"住址",prop:"住址",sortable:""}),(0,l.Wm)(u,{align:"right",width:"300"},{header:(0,l.w5)((()=>[(0,l._)("table",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(c,{type:"primary",style:{display:"inline-block"}},{default:(0,l.w5)((()=>[(0,l.Uk)("筛选身份证号码：")])),_:1})]),(0,l._)("td",null,[(0,l.Wm)(m,{modelValue:d.roID,"onUpdate:modelValue":t[0]||(t[0]=e=>d.roID=e),size:"small",placeholder:"请输入身份证号码",style:{display:"inline-block",width:"140px",height:"25px"},maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')"},null,8,["modelValue"])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(c,{type:"primary",style:{display:"inline-block"}},{default:(0,l.w5)((()=>[(0,l.Uk)("筛选姓名：")])),_:1})]),(0,l._)("td",null,[(0,l.Wm)(m,{modelValue:d.roName,"onUpdate:modelValue":t[1]||(t[1]=e=>d.roName=e),size:"small",placeholder:"请输入姓名",style:{display:"inline-block",width:"140px",height:"25px"}},null,8,["modelValue"])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(c,{type:"primary",style:{display:"inline-block"}},{default:(0,l.w5)((()=>[(0,l.Uk)("筛选性别：")])),_:1})]),(0,l._)("td",null,[(0,l.Wm)(y,{modelValue:d.roSex,"onUpdate:modelValue":t[2]||(t[2]=e=>d.roSex=e),placeholder:"请选择",size:"small",style:{display:"inline-block",width:"140px",height:"25px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{label:"全部性别",value:"全部"}),(0,l.Wm)(h,{label:"男",value:"M"}),(0,l.Wm)(h,{label:"女",value:"F"})])),_:1},8,["modelValue"])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(c,{type:"primary",style:{display:"inline-block"}},{default:(0,l.w5)((()=>[(0,l.Uk)("筛选住址：")])),_:1})]),(0,l._)("td",null,[(0,l.Wm)(m,{modelValue:d.roAddress,"onUpdate:modelValue":t[3]||(t[3]=e=>d.roAddress=e),size:"small",placeholder:"请输入住址",style:{display:"inline-block",width:"140px",height:"25px"}},null,8,["modelValue"])])])])])),default:(0,l.w5)((e=>[(0,l.Wm)(f,{size:"small",type:"primary",onClick:t=>n.getDetail(e.$index,e.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("详情")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),d.isDetail?((0,l.wg)(),(0,l.j4)(w,{key:1,data:d.caseRecord,height:"450",onWheelPassive:t[5]||(t[5]=(0,o.iM)((()=>{}),["stop"])),stripe:"",style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{label:"案件编号",prop:"案件编号",sortable:"",width:"110px"}),(0,l.Wm)(u,{label:"案件类型",prop:"案件类型",sortable:"",width:"110px"}),(0,l.Wm)(u,{label:"案件状态",prop:"案件状态",sortable:"",width:"110px"}),(0,l.Wm)(u,{label:"登记时间",prop:"登记时间",sortable:""}),(0,l.Wm)(u,{label:"案发地点",prop:"案发地点",sortable:""}),(0,l.Wm)(u,{label:"案件等级",prop:"案件等级",sortable:"",width:"110px"}),(0,l.Wm)(u,{width:"120px"},{header:(0,l.w5)((()=>[(0,l.Wm)(f,{type:"primary",onClick:n.goBack,size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("返回重犯列表")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["data"])):(0,l.kq)("",!0)])],64)}var d=a(7138),n=a(7178),p={data(){return{repeatOffenderInfo:"",roName:"",isDetail:!1,roID:"",roSex:"全部",roAddress:"",caseRecord:""}},methods:{handleMouseMove(e){const t=e.pageX-e.target.offsetLeft,a=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${t}px`),e.target.style.setProperty("--y",`${a}px`)},async getRepeatOffenderInfo(){try{const e=await d.Z.get("/api/keyIndividualsStatistics/repeatOffenderInfoStatistics");this.repeatOffenderInfo=e.data}catch(e){(0,n.z8)({showClose:!0,message:"获取重犯列表失败！",type:"error",duration:5e3})}},goBack(){this.isDetail&&(this.isDetail=!1)},async getDetail(e,t){window.scrollTo({top:0,behavior:"smooth"}),this.isDetail=!0;try{const e=await d.Z.get("/api/keyIndividualsStatistics/repeatOffenderCaseStatistics",{params:{id:t["身份证号"]}});for(let t=0;t<e.data.length;t++)"0"==e.data[t]["案件等级"]?e.data[t]["案件等级"]="一般":"1"==e.data[t]["案件等级"]?e.data[t]["案件等级"]="较大":"2"==e.data[t]["案件等级"]?e.data[t]["案件等级"]="重大":"3"==e.data[t]["案件等级"]&&(e.data[t]["案件等级"]="特别重大");this.caseRecord=e.data}catch(a){(0,n.z8)({showClose:!0,message:"获取案件信息失败！",type:"error",duration:5e3})}},async filter(){try{const e=await d.Z.get(`/api/keyIndividualsStatistics/repeatOffenderFilterStatistics?ID=${encodeURIComponent(this.roID)}&name=${encodeURIComponent(this.roName)}&sex=${encodeURIComponent(this.roSex)}&address=${encodeURIComponent(this.roAddress)}`);this.repeatOffenderInfo=e.data}catch(e){(0,n.z8)({showClose:!0,message:"信息失败！",type:"error",duration:5e3})}}},async created(){await this.getRepeatOffenderInfo()},watch:{async roID(){await this.filter()},async roName(){await this.filter()},async roSex(){await this.filter()},async roAddress(){await this.filter()}}},u=a(89);const c=(0,u.Z)(p,[["render",r]]);var m=c}}]);
//# sourceMappingURL=185.122ebd49.js.map