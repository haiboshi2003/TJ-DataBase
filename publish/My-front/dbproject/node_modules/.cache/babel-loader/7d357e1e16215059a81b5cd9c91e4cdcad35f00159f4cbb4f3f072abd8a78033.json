{"ast":null,"code":"import { computed, watchEffect } from 'vue';\nimport { updateCSS, removeCSS } from '../../vc-util/Dom/dynamicCSS';\nimport getScrollBarSize from '../../_util/getScrollBarSize';\nimport canUseDom from '../../_util/canUseDom';\nconst UNIQUE_ID = `vc-util-locker-${Date.now()}`;\nlet uuid = 0;\n/**../vc-util/Dom/dynam\r\n * Test usage export. Do not use in your production\r\n */\nexport function isBodyOverflowing() {\n  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth;\n}\nexport default function useScrollLocker(lock) {\n  const mergedLock = computed(() => !!lock && !!lock.value);\n  uuid += 1;\n  const id = `${UNIQUE_ID}_${uuid}`;\n  watchEffect(onClear => {\n    if (!canUseDom()) {\n      return;\n    }\n    if (mergedLock.value) {\n      const scrollbarSize = getScrollBarSize();\n      const isOverflow = isBodyOverflowing();\n      updateCSS(`\nhtml body {\n  overflow-y: hidden;\n  ${isOverflow ? `width: calc(100% - ${scrollbarSize}px);` : ''}\n}`, id);\n    } else {\n      removeCSS(id);\n    }\n    onClear(() => {\n      removeCSS(id);\n    });\n  }, {\n    flush: 'post'\n  });\n}","map":{"version":3,"names":["computed","watchEffect","updateCSS","removeCSS","getScrollBarSize","canUseDom","UNIQUE_ID","Date","now","uuid","isBodyOverflowing","document","body","scrollHeight","window","innerHeight","documentElement","clientHeight","innerWidth","offsetWidth","useScrollLocker","lock","mergedLock","value","id","onClear","scrollbarSize","isOverflow","flush"],"sources":["H:/GitHub-Repository/2023-TJU-DBD-Police-Affair-System/My-front/dbproject/node_modules/ant-design-vue/es/_util/hooks/useScrollLocker.js"],"sourcesContent":["import { computed, watchEffect } from 'vue';\r\nimport { updateCSS, removeCSS } from '../../vc-util/Dom/dynamicCSS';\r\nimport getScrollBarSize from '../../_util/getScrollBarSize';\r\nimport canUseDom from '../../_util/canUseDom';\r\nconst UNIQUE_ID = `vc-util-locker-${Date.now()}`;\r\nlet uuid = 0;\r\n/**../vc-util/Dom/dynam\r\n * Test usage export. Do not use in your production\r\n */\r\nexport function isBodyOverflowing() {\r\n  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth;\r\n}\r\nexport default function useScrollLocker(lock) {\r\n  const mergedLock = computed(() => !!lock && !!lock.value);\r\n  uuid += 1;\r\n  const id = `${UNIQUE_ID}_${uuid}`;\r\n  watchEffect(onClear => {\r\n    if (!canUseDom()) {\r\n      return;\r\n    }\r\n    if (mergedLock.value) {\r\n      const scrollbarSize = getScrollBarSize();\r\n      const isOverflow = isBodyOverflowing();\r\n      updateCSS(`\r\nhtml body {\r\n  overflow-y: hidden;\r\n  ${isOverflow ? `width: calc(100% - ${scrollbarSize}px);` : ''}\r\n}`, id);\r\n    } else {\r\n      removeCSS(id);\r\n    }\r\n    onClear(() => {\r\n      removeCSS(id);\r\n    });\r\n  }, {\r\n    flush: 'post'\r\n  });\r\n}"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,KAAK;AAC3C,SAASC,SAAS,EAAEC,SAAS,QAAQ,8BAA8B;AACnE,OAAOC,gBAAgB,MAAM,8BAA8B;AAC3D,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,MAAMC,SAAS,GAAI,kBAAiBC,IAAI,CAACC,GAAG,CAAC,CAAE,EAAC;AAChD,IAAIC,IAAI,GAAG,CAAC;AACZ;AACA;AACA;AACA,OAAO,SAASC,iBAAiBA,CAAA,EAAG;EAClC,OAAOC,QAAQ,CAACC,IAAI,CAACC,YAAY,IAAIC,MAAM,CAACC,WAAW,IAAIJ,QAAQ,CAACK,eAAe,CAACC,YAAY,CAAC,IAAIH,MAAM,CAACI,UAAU,GAAGP,QAAQ,CAACC,IAAI,CAACO,WAAW;AACpJ;AACA,eAAe,SAASC,eAAeA,CAACC,IAAI,EAAE;EAC5C,MAAMC,UAAU,GAAGtB,QAAQ,CAAC,MAAM,CAAC,CAACqB,IAAI,IAAI,CAAC,CAACA,IAAI,CAACE,KAAK,CAAC;EACzDd,IAAI,IAAI,CAAC;EACT,MAAMe,EAAE,GAAI,GAAElB,SAAU,IAAGG,IAAK,EAAC;EACjCR,WAAW,CAACwB,OAAO,IAAI;IACrB,IAAI,CAACpB,SAAS,CAAC,CAAC,EAAE;MAChB;IACF;IACA,IAAIiB,UAAU,CAACC,KAAK,EAAE;MACpB,MAAMG,aAAa,GAAGtB,gBAAgB,CAAC,CAAC;MACxC,MAAMuB,UAAU,GAAGjB,iBAAiB,CAAC,CAAC;MACtCR,SAAS,CAAE;AACjB;AACA;AACA,IAAIyB,UAAU,GAAI,sBAAqBD,aAAc,MAAK,GAAG,EAAG;AAChE,EAAE,EAAEF,EAAE,CAAC;IACH,CAAC,MAAM;MACLrB,SAAS,CAACqB,EAAE,CAAC;IACf;IACAC,OAAO,CAAC,MAAM;MACZtB,SAAS,CAACqB,EAAE,CAAC;IACf,CAAC,CAAC;EACJ,CAAC,EAAE;IACDI,KAAK,EAAE;EACT,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}