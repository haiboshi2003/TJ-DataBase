"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[318],{2318:function(e,t,l){l.r(t),l.d(t,{default:function(){return b}});var a=l(3396),n=l(9242);const i=e=>((0,a.dD)("data-v-246ed140"),e=e(),(0,a.Cn)(),e),d=i((()=>(0,a._)("div",null,"  城区和居民管理 > 公民户籍管理",-1))),o={style:{"text-align":"center"}},s={style:{display:"inline-block","text-align":"left"}},u={class:"seaButton"},p={style:{"text-align":"center"}},r={style:{display:"inline-block","text-align":"left"}},m={class:"seaButton"},c={style:{"text-align":"center"}},h={style:{display:"inline-block","text-align":"left"}},z={style:{"text-align":"center"}},C={style:{display:"inline-block","text-align":"left"}},y={class:"seaButton"};function x(e,t,l,i,x,w){const f=(0,a.up)("el-header"),I=(0,a.up)("el-text"),_=(0,a.up)("el-input"),W=(0,a.up)("el-option"),b=(0,a.up)("el-select"),U=(0,a.up)("el-button"),V=(0,a.up)("el-divider"),g=(0,a.up)("el-table-column"),v=(0,a.up)("el-table"),D=(0,a.up)("el-tab-pane"),k=(0,a.up)("el-tabs");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(f,{class:"sub-header",onMousemove:w.handleMouseMove},{default:(0,a.w5)((()=>[d])),_:1},8,["onMousemove"]),(0,a.Wm)(k,{modelValue:x.anv,"onUpdate:modelValue":t[18]||(t[18]=e=>x.anv=e),type:"border-card",style:{"margin-top":"10vh"}},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{label:"查询公民信息",name:"1"},{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a._)("table",s,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("身份证号:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.citizenID,"onUpdate:modelValue":t[0]||(t[0]=e=>x.citizenID=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"250px"},"show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("姓名:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.citizenName,"onUpdate:modelValue":t[1]||(t[1]=e=>x.citizenName=e),placeholder:"请输入姓名",clearable:""},null,8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("性别:")])),_:1}),(0,a.Wm)(b,{class:"inputBox",modelValue:x.citizenSex,"onUpdate:modelValue":t[2]||(t[2]=e=>x.citizenSex=e),style:{width:"231px"},placeholder:"请选择"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{label:"全部性别",selected:"",value:""}),(0,a.Wm)(W,{label:"男",value:"M"}),(0,a.Wm)(W,{label:"女",value:"F"})])),_:1},8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("住址:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.citizenAddress,"onUpdate:modelValue":t[3]||(t[3]=e=>x.citizenAddress=e),placeholder:"请输入地址",clearable:""},null,8,["modelValue"])])])]),(0,a._)("div",u,[(0,a.Wm)(U,{type:"primary",onClick:w.fetchCitizenInfo},{default:(0,a.w5)((()=>[(0,a.Uk)("查询")])),_:1},8,["onClick"])])]),(0,a.Wm)(V),(0,a._)("div",null,[(0,a.Wm)(v,{data:x.citizenInfo,stripe:"",height:"450",onWheelPassive:t[4]||(t[4]=(0,n.iM)((()=>{}),["stop"]))},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{prop:"id",label:"身份证号",sortable:""}),(0,a.Wm)(g,{prop:"name",label:"公民名称",sortable:"",width:"120px"}),(0,a.Wm)(g,{prop:"sex",label:"性别",sortable:"",width:"80px"}),(0,a.Wm)(g,{prop:"address",label:"住址",sortable:""}),(0,a.Wm)(g,{prop:"motherid",label:"母亲身份证号",sortable:""}),(0,a.Wm)(g,{prop:"fatherid",label:"父亲身份证号",sortable:""})])),_:1},8,["data"])])])),_:1}),(0,a.Wm)(D,{label:"公民信息登记",name:"2"},{default:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("table",r,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("身份证号:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.addCitizenID,"onUpdate:modelValue":t[5]||(t[5]=e=>x.addCitizenID=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"250px"},"show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("姓名:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.addCitizenName,"onUpdate:modelValue":t[6]||(t[6]=e=>x.addCitizenName=e),placeholder:"请输入姓名",clearable:""},null,8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("母亲身份证号:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.addMotherCitizenID,"onUpdate:modelValue":t[7]||(t[7]=e=>x.addMotherCitizenID=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"250px"},"show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("住址:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.addCitizenAddress,"onUpdate:modelValue":t[8]||(t[8]=e=>x.addCitizenAddress=e),placeholder:"请输入地址",clearable:""},null,8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("父亲身份证号:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.addFatherCitizenID,"onUpdate:modelValue":t[9]||(t[9]=e=>x.addFatherCitizenID=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"250px"},"show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("性别:")])),_:1}),(0,a.Wm)(b,{class:"inputBox",modelValue:x.addCitizenSex,"onUpdate:modelValue":t[10]||(t[10]=e=>x.addCitizenSex=e),placeholder:"请选择",style:{width:"181px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{label:"男",value:"M"}),(0,a.Wm)(W,{label:"女",value:"F"})])),_:1},8,["modelValue"])])])]),(0,a._)("div",m,[(0,a.Wm)(U,{type:"primary",onClick:w.addCitizenInfo},{default:(0,a.w5)((()=>[(0,a.Uk)("登记公民信息")])),_:1},8,["onClick"])])])])),_:1}),(0,a.Wm)(D,{label:"删除公民信息",name:"3"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a._)("table",h,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("身份证号：")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.delCitizenID,"onUpdate:modelValue":t[11]||(t[11]=e=>x.delCitizenID=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"250px"},"show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(U,{type:"primary",onClick:w.delCitizenInfo,style:{"margin-left":"20px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("删除公民信息")])),_:1},8,["onClick"])])])])])])),_:1}),(0,a.Wm)(D,{label:"修改公民信息",name:"4"},{default:(0,a.w5)((()=>[(0,a._)("div",z,[(0,a._)("table",C,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("身份证号:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.updCitizenID,"onUpdate:modelValue":t[12]||(t[12]=e=>x.updCitizenID=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"250px"},"show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("更新姓名:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.updCitizenName,"onUpdate:modelValue":t[13]||(t[13]=e=>x.updCitizenName=e),placeholder:"请输入姓名",clearable:""},null,8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("更新母亲身份证号:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.updMotherCitizenID,"onUpdate:modelValue":t[14]||(t[14]=e=>x.updMotherCitizenID=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"250px"},"show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("更新住址:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.updCitizenAddress,"onUpdate:modelValue":t[15]||(t[15]=e=>x.updCitizenAddress=e),placeholder:"请输入地址",clearable:""},null,8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("更新父亲身份证号:")])),_:1}),(0,a.Wm)(_,{class:"inputBox",modelValue:x.updFatherCitizenID,"onUpdate:modelValue":t[16]||(t[16]=e=>x.updFatherCitizenID=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"250px"},"show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(I,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("更新性别:")])),_:1}),(0,a.Wm)(b,{class:"inputBox",modelValue:x.updCitizenSex,"onUpdate:modelValue":t[17]||(t[17]=e=>x.updCitizenSex=e),placeholder:"请选择",style:{width:"181px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{label:"男",value:"M"}),(0,a.Wm)(W,{label:"女",value:"F"})])),_:1},8,["modelValue"])])])]),(0,a._)("div",y,[(0,a.Wm)(U,{type:"primary",onClick:w.updCitizenInfo},{default:(0,a.w5)((()=>[(0,a.Uk)("提交新的信息")])),_:1},8,["onClick"])])])])),_:1})])),_:1},8,["modelValue"])],64)}var w=l(7138),f=l(7178),I={data(){return{anv:"1",citizenID:"",citizenName:"",citizenAddress:"",citizenSex:"",citizenInfo:[],addCitizenID:"",addCitizenName:"",addCitizenAddress:"",addCitizenSex:"",addMotherCitizenID:"",addFatherCitizenID:"",delCitizenID:"",updCitizenID:"",updCitizenName:"",updCitizenAddress:"",updCitizenSex:"",updMotherCitizenID:"",updFatherCitizenID:""}},methods:{handleMouseMove(e){const t=e.pageX-e.target.offsetLeft,l=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${t}px`),e.target.style.setProperty("--y",`${l}px`)},async fetchCitizenInfo(){try{const e=await w.Z.get(`/api/getCitizenInfo?citizenID=${encodeURIComponent(this.citizenID)}&citizenName=${encodeURIComponent(this.citizenName)}&citizenSex=${encodeURIComponent(this.citizenSex)}&citizenAddress=${encodeURIComponent(this.citizenAddress)}`);this.citizenInfo=e.data.map((e=>"M"===e.sex?{...e,sex:"男"}:"F"===e.sex?{...e,sex:"女"}:e))}catch(e){(0,f.z8)({showClose:!0,message:"获取公民列表失败！",type:"error",duration:5e3})}},async addCitizenInfo(){try{const e=await w.Z.post(`/api/addCitizen?citizenID=${encodeURIComponent(this.addCitizenID)}&citizenName=${encodeURIComponent(this.addCitizenName)}&citizenSex=${encodeURIComponent(this.addCitizenSex)}&citizenAddress=${encodeURIComponent(this.addCitizenAddress)}&motherID=${encodeURIComponent(this.addMotherCitizenID)}&fatherID=${encodeURIComponent(this.addFatherCitizenID)}`);"string"==typeof e.data?(0,f.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchCitizenInfo(),(0,f.z8)({showClose:!0,message:"新增公民成功! ",type:"success",duration:5e3}))}catch(e){(0,f.z8)({showClose:!0,message:"新增公民失败！",type:"error",duration:5e3})}},async delCitizenInfo(){try{const e=await w.Z.delete(`/api/delCitizen?citizenID=${encodeURIComponent(this.delCitizenID)}`);"string"==typeof e.data?(0,f.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchCitizenInfo(),(0,f.z8)({showClose:!0,message:"删除公民成功! ",type:"success",duration:5e3}))}catch(e){(0,f.z8)({showClose:!0,message:"删除公民失败！",type:"error",duration:5e3})}},async updCitizenInfo(){try{const e=await w.Z.put(`/api/updCitizen?citizenID=${encodeURIComponent(this.updCitizenID)}&citizenName=${encodeURIComponent(this.updCitizenName)}&citizenSex=${encodeURIComponent(this.updCitizenSex)}&citizenAddress=${encodeURIComponent(this.updCitizenAddress)}&motherID=${encodeURIComponent(this.updMotherCitizenID)}&fatherID=${encodeURIComponent(this.updFatherCitizenID)}`);"string"==typeof e.data?(0,f.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchCitizenInfo(),(0,f.z8)({showClose:!0,message:"修改成功! ",type:"success",duration:5e3}))}catch(e){(0,f.z8)({showClose:!0,message:"修改失败！",type:"error",duration:5e3})}},async back(){this.citizenUseInfo="",this.showCitizen=!0}}},_=l(89);const W=(0,_.Z)(I,[["render",x],["__scopeId","data-v-246ed140"]]);var b=W}}]);
//# sourceMappingURL=318.7039e425.js.map