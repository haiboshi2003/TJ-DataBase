"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[180],{5180:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var l=a(3396),o=a(9242);const n=e=>((0,l.dD)("data-v-d6549d0e"),e=e(),(0,l.Cn)(),e),d=n((()=>(0,l._)("div",null,"  警员管理 > 警局信息管理",-1))),s={style:{"text-align":"center"}},i={style:{display:"inline-block","text-align":"left"}},u=n((()=>(0,l._)("td",null,null,-1))),p={class:"seaButton"},r={style:{"text-align":"center"}},m={style:{display:"inline-block","text-align":"left"}},c={class:"seaButton"},y={style:{"text-align":"center"}},h={style:{display:"inline-block","text-align":"left"}},f={style:{"text-align":"center"}},_={style:{display:"inline-block","text-align":"left"}},g={class:"seaButton"};function w(e,t,a,n,w,S){const I=(0,l.up)("el-header"),b=(0,l.up)("el-text"),U=(0,l.up)("el-input"),x=(0,l.up)("el-button"),W=(0,l.up)("el-divider"),V=(0,l.up)("el-table-column"),v=(0,l.up)("el-table"),k=(0,l.up)("el-tab-pane"),C=(0,l.up)("el-tabs");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(I,{class:"sub-header",onMousemove:S.handleMouseMove},{default:(0,l.w5)((()=>[d])),_:1},8,["onMousemove"]),(0,l.Wm)(C,{modelValue:w.anv,"onUpdate:modelValue":t[13]||(t[13]=e=>w.anv=e),type:"border-card",style:{"margin-top":"10vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{label:"查询警局",name:"1"},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l._)("table",i,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("警局编号:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.stationID,"onUpdate:modelValue":t[0]||(t[0]=e=>w.stationID=e),placeholder:"请输入警局编号",clearable:"",maxlength:"9",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("警局名称:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.stationName,"onUpdate:modelValue":t[1]||(t[1]=e=>w.stationName=e),placeholder:"请输入警局名称",clearable:""},null,8,["modelValue"])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("所在地址:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.stationAddress,"onUpdate:modelValue":t[2]||(t[2]=e=>w.stationAddress=e),placeholder:"请输入地址",clearable:""},null,8,["modelValue"])]),u])]),(0,l._)("div",p,[(0,l.Wm)(x,{type:"primary",onClick:S.fetchStationInfo},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1},8,["onClick"])])]),(0,l.Wm)(W),(0,l._)("div",null,[(0,l.Wm)(v,{data:w.stationInfo,stripe:"",height:"450",onWheelPassive:t[3]||(t[3]=(0,o.iM)((()=>{}),["stop"]))},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{prop:"stationID",label:"警局编号",sortable:""}),(0,l.Wm)(V,{prop:"stationName",label:"警局名称",sortable:""}),(0,l.Wm)(V,{prop:"address",label:"所在地址",sortable:""}),(0,l.Wm)(V,{prop:"budget",label:"预算",sortable:""})])),_:1},8,["data"])])])),_:1}),(0,l.Wm)(k,{label:"新增警局",name:"2"},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("table",m,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("警局编号:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.addStationID,"onUpdate:modelValue":t[4]||(t[4]=e=>w.addStationID=e),placeholder:"请输入警局编号",clearable:"",maxlength:"9",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("警局名称:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.addStationName,"onUpdate:modelValue":t[5]||(t[5]=e=>w.addStationName=e),placeholder:"请输入警局名称",clearable:""},null,8,["modelValue"])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("所在地址:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.addStationAddress,"onUpdate:modelValue":t[6]||(t[6]=e=>w.addStationAddress=e),placeholder:"请输入地址",clearable:""},null,8,["modelValue"])]),(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("预算:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.addStationBudget,"onUpdate:modelValue":t[7]||(t[7]=e=>w.addStationBudget=e),placeholder:"请输入预算",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:""},null,8,["modelValue"])])])]),(0,l._)("div",c,[(0,l.Wm)(x,{type:"primary",onClick:S.addStationInfo},{default:(0,l.w5)((()=>[(0,l.Uk)("新建")])),_:1},8,["onClick"])])])])),_:1}),(0,l.Wm)(k,{label:"删除警局",name:"3"},{default:(0,l.w5)((()=>[(0,l._)("div",y,[(0,l._)("table",h,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("警局编号：")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.delStationID,"onUpdate:modelValue":t[8]||(t[8]=e=>w.delStationID=e),placeholder:"请输入警局编号",clearable:"",maxlength:"9",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,l._)("td",null,[(0,l.Wm)(x,{type:"primary",onClick:S.delStationInfo,style:{"margin-left":"20px"}},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:1},8,["onClick"])])])])])])),_:1}),(0,l.Wm)(k,{label:"修改警局信息",name:"4"},{default:(0,l.w5)((()=>[(0,l._)("div",f,[(0,l._)("table",_,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("警局编号:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.updStationID,"onUpdate:modelValue":t[9]||(t[9]=e=>w.updStationID=e),placeholder:"请输入警局编号",clearable:"",maxlength:"9",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("新警局名称:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.updStationName,"onUpdate:modelValue":t[10]||(t[10]=e=>w.updStationName=e),placeholder:"请输入警局名称",clearable:""},null,8,["modelValue"])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("新所在地址:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.updStationAddress,"onUpdate:modelValue":t[11]||(t[11]=e=>w.updStationAddress=e),placeholder:"请输入地址",clearable:""},null,8,["modelValue"])]),(0,l._)("td",null,[(0,l.Wm)(b,{class:"noteText",type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("新预算:")])),_:1}),(0,l.Wm)(U,{class:"inputBox",modelValue:w.updStationBudget,"onUpdate:modelValue":t[12]||(t[12]=e=>w.updStationBudget=e),placeholder:"请输入预算",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:""},null,8,["modelValue"])])])]),(0,l._)("div",g,[(0,l.Wm)(x,{type:"primary",onClick:S.updStationInfo},{default:(0,l.w5)((()=>[(0,l.Uk)("提交")])),_:1},8,["onClick"])])])])),_:1})])),_:1},8,["modelValue"])],64)}var S=a(7138),I=a(7178),b={data(){return{anv:"1",stationID:"",stationName:"",stationAddress:"",stationBudget:"",stationInfo:[],addStationID:"",addStationName:"",addStationAddress:"",addStationBudget:"",delStationID:"",updStationID:"",updStationName:"",updStationAddress:"",updStationBudget:"",err:"警局不存在！"}},methods:{handleMouseMove(e){const t=e.pageX-e.target.offsetLeft,a=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${t}px`),e.target.style.setProperty("--y",`${a}px`)},async fetchStationInfo(){try{const e=await S.Z.get(`/api/stationInfo?stationID=${encodeURIComponent(this.stationID)}&stationName=${encodeURIComponent(this.stationName)}&stationAddress=${encodeURIComponent(this.stationAddress)}`);this.stationInfo=e.data}catch(e){(0,I.z8)({showClose:!0,message:"获取警局列表失败！",type:"error",duration:5e3})}},async addStationInfo(){try{const e=await S.Z.post(`/api/addStation?stationID=${encodeURIComponent(this.addStationID)}&stationName=${encodeURIComponent(this.addStationName)}&stationAddress=${encodeURIComponent(this.addStationAddress)}&stationBudget=${encodeURIComponent(this.addStationBudget)}`);"string"==typeof e.data?(0,I.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchStationInfo(),(0,I.z8)({showClose:!0,message:"新增警局成功! ",type:"success",duration:5e3}))}catch(e){(0,I.z8)({showClose:!0,message:"新增警局失败！",type:"error",duration:5e3})}},async delStationInfo(){try{const e=await S.Z.delete(`/api/delStation?stationID=${encodeURIComponent(this.delStationID)}`);"string"==typeof e.data?(0,I.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchStationInfo(),(0,I.z8)({showClose:!0,message:"删除警局成功! ",type:"success",duration:5e3}))}catch(e){(0,I.z8)({showClose:!0,message:"删除警局失败！",type:"error",duration:5e3})}},async updStationInfo(){try{const e=await S.Z.put(`/api/updStation?stationID=${encodeURIComponent(this.updStationID)}&stationName=${encodeURIComponent(this.updStationName)}&stationAddress=${encodeURIComponent(this.updStationAddress)}&stationBudget=${encodeURIComponent(this.updStationBudget)}`);"string"==typeof e.data?(0,I.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchStationInfo(),(0,I.z8)({showClose:!0,message:"修改成功! ",type:"success",duration:5e3}))}catch(e){(0,I.z8)({showClose:!0,message:"修改失败！",type:"error",duration:5e3})}},async back(){this.stationUseInfo="",this.showStation=!0}}},U=a(89);const x=(0,U.Z)(b,[["render",w],["__scopeId","data-v-d6549d0e"]]);var W=x}}]);
//# sourceMappingURL=180.e04bc3e3.js.map