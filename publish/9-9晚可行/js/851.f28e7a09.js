"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[851],{851:function(e,l,t){t.r(l),t.d(l,{default:function(){return W}});var a=t(3396),d=t(9242);const o=e=>((0,a.dD)("data-v-211e418e"),e=e(),(0,a.Cn)(),e),n=o((()=>(0,a._)("div",null,"  警员管理 > 执法录像管理",-1))),i={style:{"text-align":"center"}},p={style:{display:"inline-block","text-align":"left"}},u=o((()=>(0,a._)("td",null,null,-1))),s={class:"seaButton"},m={style:{"text-align":"center"}},r={style:{display:"inline-block","text-align":"left"}},c={class:"seaButton"},y={style:{"text-align":"center"}},h={style:{display:"inline-block","text-align":"left"}},f={style:{"text-align":"center"}},w={style:{display:"inline-block","text-align":"left"}},V={class:"seaButton"};function v(e,l,t,o,v,x){const I=(0,a.up)("el-header"),_=(0,a.up)("el-text"),g=(0,a.up)("el-input"),T=(0,a.up)("el-option"),W=(0,a.up)("el-select"),b=(0,a.up)("el-date-picker"),U=(0,a.up)("el-button"),D=(0,a.up)("el-divider"),k=(0,a.up)("el-table-column"),C=(0,a.up)("el-table"),R=(0,a.up)("el-tab-pane"),B=(0,a.up)("el-tabs");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(I,{class:"sub-header",onMousemove:x.handleMouseMove},{default:(0,a.w5)((()=>[n])),_:1},8,["onMousemove"]),(0,a.Wm)(B,{modelValue:v.anv,"onUpdate:modelValue":l[15]||(l[15]=e=>v.anv=e),type:"border-card",style:{"margin-top":"10vh"}},{default:(0,a.w5)((()=>[(0,a.Wm)(R,{label:"查询录像",name:"1"},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("table",p,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary",style:{"padding-left":"6px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("录像编号：")])),_:1}),(0,a.Wm)(g,{class:"inputBox",modelValue:v.videoID,"onUpdate:modelValue":l[0]||(l[0]=e=>v.videoID=e),placeholder:"请输入录像编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"5","show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary",style:{"padding-left":"6px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("录像类型：")])),_:1}),(0,a.Wm)(W,{class:"inputBox",modelValue:v.videoType,"onUpdate:modelValue":l[1]||(l[1]=e=>v.videoType=e),placeholder:"请选择"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{selected:"",label:"全部类型",value:""}),(0,a.Wm)(T,{label:"审讯",value:"审讯"}),(0,a.Wm)(T,{label:"监控",value:"监控"}),(0,a.Wm)(T,{label:"调查",value:"调查"})])),_:1},8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("记录日期:")])),_:1}),(0,a.Wm)(b,{class:"inputBox",modelValue:v.recordTime,"onUpdate:modelValue":l[2]||(l[2]=e=>v.recordTime=e),type:"date",placeholder:"请选择出勤日期",style:{"margin-left":"16px",width:"200px"}},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("是否筛选时间:")])),_:1}),(0,a.Wm)(W,{class:"inputBox",modelValue:v.isT,"onUpdate:modelValue":l[3]||(l[3]=e=>v.isT=e),style:{"margin-left":"16px",width:"200px"},placeholder:"请选择"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{label:"不筛选",value:"F"}),(0,a.Wm)(T,{label:"筛选",value:"T"})])),_:1},8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary",style:{"padding-left":"6px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("记录警员编号：")])),_:1}),(0,a.Wm)(g,{class:"inputBox",modelValue:v.policemenID,"onUpdate:modelValue":l[4]||(l[4]=e=>v.policemenID=e),placeholder:"请输入警员编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),u])]),(0,a._)("div",s,[(0,a.Wm)(U,{type:"primary",onClick:x.fetchVideoInfo},{default:(0,a.w5)((()=>[(0,a.Uk)("查询")])),_:1},8,["onClick"])])]),(0,a.Wm)(D),(0,a._)("div",null,[(0,a.Wm)(C,{data:v.videoInfo,stripe:"",height:"450",onWheelPassive:l[5]||(l[5]=(0,d.iM)((()=>{}),["stop"]))},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{prop:"videoID",label:"录像编号",sortable:"",width:"130px"}),(0,a.Wm)(k,{prop:"videoType",label:"录像类型",sortable:"",width:"130px"}),(0,a.Wm)(k,{prop:"recordTime",label:"记录时间",sortable:""}),(0,a.Wm)(k,{prop:"uploadTime",label:"上传时间",sortable:""}),(0,a.Wm)(k,{prop:"policemenID",label:"进行记录的警员",sortable:"",width:"160px"})])),_:1},8,["data"])])])),_:1}),(0,a.Wm)(R,{label:"新增录像",name:"2"},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("table",r,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary",style:{"padding-left":"6px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("录像编号：")])),_:1}),(0,a.Wm)(g,{class:"inputBox",modelValue:v.addVideoID,"onUpdate:modelValue":l[6]||(l[6]=e=>v.addVideoID=e),placeholder:"请输入录像编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"5","show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary",style:{"padding-left":"6px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("录像类型：")])),_:1}),(0,a.Wm)(W,{class:"inputBox",modelValue:v.addVideoType,"onUpdate:modelValue":l[7]||(l[7]=e=>v.addVideoType=e),placeholder:"请选择"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{label:"审讯",value:"审讯"}),(0,a.Wm)(T,{label:"监控",value:"监控"}),(0,a.Wm)(T,{label:"调查",value:"调查"})])),_:1},8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("记录时间:")])),_:1}),(0,a.Wm)(b,{class:"inputBox",modelValue:v.addRecordTime,"onUpdate:modelValue":l[8]||(l[8]=e=>v.addRecordTime=e),type:"datetime",placeholder:"请选择出勤时间",style:{"margin-left":"16px",width:"200px"}},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary",style:{"padding-left":"6px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("记录警员编号：")])),_:1}),(0,a.Wm)(g,{class:"inputBox",modelValue:v.addPolicemenID,"onUpdate:modelValue":l[9]||(l[9]=e=>v.addPolicemenID=e),placeholder:"请输入警员编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])])])]),(0,a._)("div",c,[(0,a.Wm)(U,{type:"primary",onClick:x.addVideoInfo},{default:(0,a.w5)((()=>[(0,a.Uk)("上传录像")])),_:1},8,["onClick"])])])])),_:1}),(0,a.Wm)(R,{label:"删除录像",name:"3"},{default:(0,a.w5)((()=>[(0,a._)("div",y,[(0,a._)("table",h,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("录像编号：")])),_:1}),(0,a.Wm)(g,{class:"inputBox",modelValue:e.delVideoID,"onUpdate:modelValue":l[10]||(l[10]=l=>e.delVideoID=l),placeholder:"请输入录像编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"5","show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(U,{type:"primary",onClick:x.delVideoInfo,style:{"margin-left":"20px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("删除录像")])),_:1},8,["onClick"])])])])])])),_:1}),(0,a.Wm)(R,{label:"修改信息",name:"4"},{default:(0,a.w5)((()=>[(0,a._)("div",f,[(0,a._)("table",w,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary",style:{"padding-left":"6px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("录像编号：")])),_:1}),(0,a.Wm)(g,{class:"inputBox",modelValue:v.updVideoID,"onUpdate:modelValue":l[11]||(l[11]=e=>v.updVideoID=e),placeholder:"请输入录像编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"5","show-word-limit":""},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary",style:{"padding-left":"6px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("更新录像类型：")])),_:1}),(0,a.Wm)(W,{class:"inputBox",modelValue:v.updVideoType,"onUpdate:modelValue":l[12]||(l[12]=e=>v.updVideoType=e),placeholder:"请选择"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{label:"审讯",value:"审讯"}),(0,a.Wm)(T,{label:"监控",value:"监控"}),(0,a.Wm)(T,{label:"调查",value:"调查"})])),_:1},8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("更新记录时间:")])),_:1}),(0,a.Wm)(b,{class:"inputBox",modelValue:v.updRecordTime,"onUpdate:modelValue":l[13]||(l[13]=e=>v.updRecordTime=e),type:"date",placeholder:"请选择出勤日期",style:{"margin-left":"16px",width:"200px"}},null,8,["modelValue"])]),(0,a._)("td",null,[(0,a.Wm)(_,{class:"noteText",type:"primary",style:{"padding-left":"6px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("更新警员编号：")])),_:1}),(0,a.Wm)(g,{class:"inputBox",modelValue:v.updPolicemenID,"onUpdate:modelValue":l[14]||(l[14]=e=>v.updPolicemenID=e),placeholder:"请输入警员编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])])])]),(0,a._)("div",V,[(0,a.Wm)(U,{type:"primary",onClick:x.updVideoInfo},{default:(0,a.w5)((()=>[(0,a.Uk)("上传修改信息")])),_:1},8,["onClick"])])])])),_:1})])),_:1},8,["modelValue"])],64)}var x=t(7138),I=t(7178),_={data(){return{anv:"1",videoID:"",videoType:"",recordTime:new Date,isT:"F",policemenID:"",videoInfo:[],addVideoID:"",addVideoType:"",addRecordTime:new Date,addPolicemenID:"",updVideoID:"",updVideoType:"",updRecordTime:new Date,updPolicemenID:""}},methods:{handleMouseMove(e){const l=e.pageX-e.target.offsetLeft,t=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${l}px`),e.target.style.setProperty("--y",`${t}px`)},async fetchVideoInfo(){try{this.recordTime=new Date(this.recordTime).toISOString();const e=await x.Z.get(`/api/videoInfo?videoID=${encodeURIComponent(this.videoID)}&recordTime=${encodeURIComponent(this.recordTime)}&isT=${encodeURIComponent(this.isT)}&policemenID=${encodeURIComponent(this.policemenID)}`);this.videoInfo=e.data}catch(e){(0,I.z8)({showClose:!0,message:"获取录像列表失败！",type:"error",duration:5e3})}},async addVideoInfo(){try{this.addRecordTime=new Date(this.addRecordTime).toISOString();const e=await x.Z.post(`/api/addVideo?videoID=${encodeURIComponent(this.addVideoID)}&videoType=${encodeURIComponent(this.addVideoType)}&recordTime=${encodeURIComponent(this.addRecordTime)}&policemenID=${encodeURIComponent(this.addPolicemenID)}`);"string"==typeof e.data?(0,I.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchVideoInfo(),(0,I.z8)({showClose:!0,message:"新增录像成功! ",type:"success",duration:5e3}))}catch(e){(0,I.z8)({showClose:!0,message:"新增录像失败！",type:"error",duration:5e3})}},async delVideoInfo(){try{const e=await x.Z.delete(`/api/delVideo?videoID=${encodeURIComponent(this.delVideoID)}`);"string"==typeof e.data?(0,I.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchVideoInfo(),(0,I.z8)({showClose:!0,message:"删除录像成功! ",type:"success",duration:5e3}))}catch(e){(0,I.z8)({showClose:!0,message:"删除录像失败！",type:"error",duration:5e3})}},async updVideoInfo(){try{this.updRecordTime=new Date(this.updRecordTime).toISOString();const e=await x.Z.put(`/api/updVideo?videoID=${encodeURIComponent(this.updVideoID)}&videoType=${encodeURIComponent(this.updVideoType)}&recordTime=${encodeURIComponent(this.updRecordTime)}&policemenID=${encodeURIComponent(this.updPolicemenID)}`);"string"==typeof e.data?(0,I.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchVideoInfo(),(0,I.z8)({showClose:!0,message:"修改成功! ",type:"success",duration:5e3}))}catch(e){(0,I.z8)({showClose:!0,message:"修改失败！",type:"error",duration:5e3})}}}},g=t(89);const T=(0,g.Z)(_,[["render",v],["__scopeId","data-v-211e418e"]]);var W=T}}]);
//# sourceMappingURL=851.f28e7a09.js.map