"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[256],{3256:function(e,t,l){l.r(t),l.d(t,{default:function(){return c}});var a=l(3396),s=l(9242);const o=(0,a._)("div",null,"  案件管理 > 重点人员统计",-1),i={class:"main"};function r(e,t,l,r,d,n){const p=(0,a.up)("el-header"),u=(0,a.up)("el-table-column"),c=(0,a.up)("el-text"),h=(0,a.up)("el-input"),m=(0,a.up)("el-option"),y=(0,a.up)("el-select"),f=(0,a.up)("el-button"),w=(0,a.up)("el-table");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(p,{class:"sub-header",onMousemove:n.handleMouseMove},{default:(0,a.w5)((()=>[o])),_:1},8,["onMousemove"]),(0,a._)("div",i,[d.isDetail?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(w,{key:0,data:d.repeatOffenderInfo,height:"90vh",onWheelPassive:t[4]||(t[4]=(0,s.iM)((()=>{}),["stop"])),stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"身份证号码",prop:"身份证号",sortable:"",width:"180px"}),(0,a.Wm)(u,{label:"姓名",prop:"姓名",sortable:"",width:"100px"}),(0,a.Wm)(u,{label:"性别",prop:"性别",sortable:"",width:"80px"}),(0,a.Wm)(u,{label:"住址",prop:"住址",sortable:""}),(0,a.Wm)(u,{align:"right",width:"300"},{header:(0,a.w5)((()=>[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(c,{type:"primary",style:{display:"inline-block"}},{default:(0,a.w5)((()=>[(0,a.Uk)("筛选身份证号码：")])),_:1})]),(0,a._)("td",null,[(0,a.Wm)(h,{modelValue:d.roID,"onUpdate:modelValue":t[0]||(t[0]=e=>d.roID=e),size:"small",placeholder:"请输入身份证号码",style:{display:"inline-block",width:"140px",height:"25px"},maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')"},null,8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(c,{type:"primary",style:{display:"inline-block"}},{default:(0,a.w5)((()=>[(0,a.Uk)("筛选姓名：")])),_:1})]),(0,a._)("td",null,[(0,a.Wm)(h,{modelValue:d.roName,"onUpdate:modelValue":t[1]||(t[1]=e=>d.roName=e),size:"small",placeholder:"请输入姓名",style:{display:"inline-block",width:"140px",height:"25px"}},null,8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(c,{type:"primary",style:{display:"inline-block"}},{default:(0,a.w5)((()=>[(0,a.Uk)("筛选性别：")])),_:1})]),(0,a._)("td",null,[(0,a.Wm)(y,{modelValue:d.roSex,"onUpdate:modelValue":t[2]||(t[2]=e=>d.roSex=e),placeholder:"请选择",size:"small",style:{display:"inline-block",width:"140px",height:"25px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{label:"请选择",value:"全部"}),(0,a.Wm)(m,{label:"男",value:"M"}),(0,a.Wm)(m,{label:"女",value:"F"})])),_:1},8,["modelValue"])])]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(c,{type:"primary",style:{display:"inline-block"}},{default:(0,a.w5)((()=>[(0,a.Uk)("筛选住址：")])),_:1})]),(0,a._)("td",null,[(0,a.Wm)(h,{modelValue:d.roAddress,"onUpdate:modelValue":t[3]||(t[3]=e=>d.roAddress=e),size:"small",placeholder:"请输入住址",style:{display:"inline-block",width:"140px",height:"25px"}},null,8,["modelValue"])])])])])),default:(0,a.w5)((e=>[(0,a.Wm)(f,{size:"small",type:"primary",onClick:t=>n.getDetail(e.$index,e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("详情")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),d.isDetail?((0,a.wg)(),(0,a.j4)(w,{key:1,data:d.caseRecord,height:"90vh",onWheelPassive:t[5]||(t[5]=(0,s.iM)((()=>{}),["stop"])),stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"案件编号",prop:"案件编号",sortable:"",width:"110px"}),(0,a.Wm)(u,{label:"案件类型",prop:"案件类型",sortable:"",width:"110px"}),(0,a.Wm)(u,{label:"案件状态",prop:"案件状态",sortable:"",width:"110px"}),(0,a.Wm)(u,{label:"登记时间",prop:"登记时间",sortable:""}),(0,a.Wm)(u,{label:"案发地点",prop:"案发地点",sortable:""}),(0,a.Wm)(u,{label:"案件等级",prop:"案件等级",sortable:"",width:"110px"}),(0,a.Wm)(u,{width:"120px"},{header:(0,a.w5)((()=>[(0,a.Wm)(f,{type:"primary",onClick:n.goBack,size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)("返回重犯列表")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["data"])):(0,a.kq)("",!0)])],64)}var d=l(7138),n={data(){return{repeatOffenderInfo:"",roName:"",isDetail:!1,roID:"",roSex:"全部",roAddress:"",caseRecord:""}},methods:{handleMouseMove(e){const t=e.pageX-e.target.offsetLeft,l=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${t}px`),e.target.style.setProperty("--y",`${l}px`)},async getRepeatOffenderInfo(){try{const e=await d.Z.get("/api/keyIndividualsStatistics/repeatOffenderInfoStatistics");this.repeatOffenderInfo=e.data,console.log(e.data)}catch(e){ElMessage({showClose:!0,message:"获取重犯列表失败！",type:"error",duration:5e3})}},goBack(){this.isDetail&&(this.isDetail=!1)},async getDetail(e,t){window.scrollTo({top:0,behavior:"smooth"}),this.isDetail=!0;try{const e=await d.Z.get("/api/keyIndividualsStatistics/repeatOffenderCaseStatistics",{params:{id:t["身份证号"]}});this.caseRecord=e.data}catch(l){ElMessage({showClose:!0,message:"获取案件信息失败！",type:"error",duration:5e3})}},async filter(){try{const e=await d.Z.get(`/api/keyIndividualsStatistics/repeatOffenderFilterStatistics?ID=${encodeURIComponent(this.roID)}&name=${encodeURIComponent(this.roName)}&sex=${encodeURIComponent(this.roSex)}&address=${encodeURIComponent(this.roAddress)}`);this.repeatOffenderInfo=e.data}catch(e){ElMessage({showClose:!0,message:"信息失败！",type:"error",duration:5e3})}}},async created(){await this.getRepeatOffenderInfo()},watch:{async roID(){await this.filter()},async roName(){await this.filter()},async roSex(){await this.filter()},async roAddress(){await this.filter()}}},p=l(89);const u=(0,p.Z)(n,[["render",r]]);var c=u}}]);
//# sourceMappingURL=256.90c425e8.js.map