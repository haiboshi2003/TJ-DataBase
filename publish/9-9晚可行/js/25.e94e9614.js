"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[25],{7025:function(e,l,o){o.r(l),o.d(l,{default:function(){return f}});var t=o(3396),a=o(9242);const n=e=>((0,t.dD)("data-v-fe9d2ea4"),e=e(),(0,t.Cn)(),e),m=n((()=>(0,t._)("div",null,"  警员管理 > 警员信息管理",-1))),i={style:{"text-align":"center"}},p={style:{display:"inline-block","text-align":"left"}},d={class:"seaButton"},u={style:{"text-align":"center"}},c={style:{display:"inline-block","text-align":"left"}},s={style:{"text-align":"center"}},r={style:{display:"inline-block","text-align":"left"}},h={style:{"text-align":"center"}},y={style:{display:"inline-block","text-align":"left"}},x={class:"seaButton"};function w(e,l,o,n,w,P){const b=(0,t.up)("el-header"),_=(0,t.up)("el-text"),W=(0,t.up)("el-input"),g=(0,t.up)("el-option"),f=(0,t.up)("el-select"),I=(0,t.up)("el-button"),U=(0,t.up)("el-divider"),V=(0,t.up)("el-table-column"),v=(0,t.up)("el-table"),D=(0,t.up)("el-tab-pane"),k=(0,t.up)("el-tabs");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(b,{class:"sub-header",onMousemove:P.handleMouseMove},{default:(0,t.w5)((()=>[m])),_:1},8,["onMousemove"]),(0,t.Wm)(k,{modelValue:w.anv,"onUpdate:modelValue":l[21]||(l[21]=e=>w.anv=e),type:"border-card",style:{"margin-top":"10vh"}},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{label:"查询警员信息",name:"1"},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t._)("table",p,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("警员编号:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.policemenID,"onUpdate:modelValue":l[0]||(l[0]=e=>w.policemenID=e),placeholder:"请输入警员编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"231px"},"show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("姓名:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.policemenName,"onUpdate:modelValue":l[1]||(l[1]=e=>w.policemenName=e),style:{width:"250px"},placeholder:"请输入姓名",clearable:""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("身份证号:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.policemenIDNum,"onUpdate:modelValue":l[2]||(l[2]=e=>w.policemenIDNum=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"231px"},"show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("出生年份:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.policemenYear,"onUpdate:modelValue":l[3]||(l[3]=e=>w.policemenYear=e),style:{width:"200px"},placeholder:"请输入年份",clearable:"",maxlength:"4",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":"",onKeyup:(0,a.D2)(P.checkYear,["enter"]),onBlur:P.checkYear},null,8,["modelValue","onKeyup","onBlur"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("性别:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:w.policemenSex,"onUpdate:modelValue":l[4]||(l[4]=e=>w.policemenSex=e),style:{width:"231px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{label:"全部性别",selected:"",value:""}),(0,t.Wm)(g,{label:"男",value:"M"}),(0,t.Wm)(g,{label:"女",value:"F"})])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("民族:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.policemenNation,"onUpdate:modelValue":l[5]||(l[5]=e=>w.policemenNation=e),style:{width:"250px"},placeholder:"请输入民族",clearable:""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("状态:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:w.policemenStatus,"onUpdate:modelValue":l[6]||(l[6]=e=>w.policemenStatus=e),style:{width:"231px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{label:"全部状态",selected:"",value:""}),(0,t.Wm)(g,{label:"在职",value:"在职"}),(0,t.Wm)(g,{label:"离职",value:"离职"})])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("职务:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:w.policemenPosition,"onUpdate:modelValue":l[7]||(l[7]=e=>w.policemenPosition=e),style:{width:"200px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{label:"全部职务",selected:"",value:""}),(0,t.Wm)(g,{label:"学员",value:"学员"}),(0,t.Wm)(g,{label:"警员",value:"警员"}),(0,t.Wm)(g,{label:"警司",value:"警司"}),(0,t.Wm)(g,{label:"警督",value:"警督"}),(0,t.Wm)(g,{label:"警监",value:"警监"}),(0,t.Wm)(g,{label:"总警监",value:"总警监"})])),_:1},8,["modelValue"])])])]),(0,t._)("div",d,[(0,t.Wm)(I,{type:"primary",onClick:P.fetchPolicemenInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("查询")])),_:1},8,["onClick"])])]),(0,t.Wm)(U),(0,t._)("div",null,[(0,t.Wm)(v,{data:w.policemenInfo,stripe:"",height:"450",onWheelPassive:l[8]||(l[8]=(0,a.iM)((()=>{}),["stop"]))},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{prop:"pid",label:"警员编号",sortable:"",width:"105px"}),(0,t.Wm)(V,{prop:"name",label:"姓名",sortable:"",width:"105px"}),(0,t.Wm)(V,{prop:"idn",label:"身份证号",sortable:""}),(0,t.Wm)(V,{prop:"birthday",label:"出生日期",sortable:"",width:"110px"}),(0,t.Wm)(V,{prop:"gender",label:"性别",sortable:"",width:"80px"}),(0,t.Wm)(V,{prop:"nation",label:"民族",sortable:"",width:"80px"}),(0,t.Wm)(V,{prop:"phone",label:"电话",sortable:"",width:"120px"}),(0,t.Wm)(V,{prop:"email",label:"邮箱",sortable:""}),(0,t.Wm)(V,{prop:"status",label:"状态",sortable:"",width:"80px"}),(0,t.Wm)(V,{prop:"position",label:"职务",sortable:"",width:"80px"})])),_:1},8,["data"])])])),_:1}),(0,t.Wm)(D,{label:"警员离职登记",name:"2"},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t._)("table",c,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("警员编号：")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.depPolicemenID,"onUpdate:modelValue":l[9]||(l[9]=e=>w.depPolicemenID=e),placeholder:"请输入警员编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(I,{type:"primary",onClick:P.depart,style:{"margin-left":"20px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("登记离职")])),_:1},8,["onClick"])])])])])])),_:1}),(0,t.Wm)(D,{label:"删除警员信息",name:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",s,[(0,t._)("table",r,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("警员编号：")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.delPolicemenID,"onUpdate:modelValue":l[10]||(l[10]=e=>w.delPolicemenID=e),placeholder:"请输入警员编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(I,{type:"primary",onClick:P.delPolicemenInfo,style:{"margin-left":"20px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("删除")])),_:1},8,["onClick"])])])])])])),_:1}),(0,t.Wm)(D,{label:"修改警员信息",name:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",h,[(0,t._)("table",y,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("警员编号:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.updPolicemenID,"onUpdate:modelValue":l[11]||(l[11]=e=>w.updPolicemenID=e),placeholder:"请输入警员编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"231px"},"show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新姓名:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.updPolicemenName,"onUpdate:modelValue":l[12]||(l[12]=e=>w.updPolicemenName=e),style:{width:"250px"},placeholder:"请输入姓名",clearable:""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新身份证号:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.updPolicemenIDNum,"onUpdate:modelValue":l[13]||(l[13]=e=>w.updPolicemenIDNum=e),placeholder:"请输入身份证号",clearable:"",maxlength:"18",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{width:"231px"},"show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新出生日期:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.updPolicemenYear,"onUpdate:modelValue":l[14]||(l[14]=e=>w.updPolicemenYear=e),style:{width:"60px","margin-right":"6px"},placeholder:"年",maxlength:"4",oninput:"value=value.replace(/[^\\d.]/g,'')",onKeyup:(0,a.D2)(P.checkYear2,["enter"]),onBlur:P.checkYear2},null,8,["modelValue","onKeyup","onBlur"]),(0,t.Uk)(" -"),(0,t.Wm)(W,{class:"inputBox",modelValue:w.updPolicemenMonth,"onUpdate:modelValue":l[15]||(l[15]=e=>w.updPolicemenMonth=e),style:{width:"40px","margin-right":"6px"},placeholder:"月",maxlength:"2",oninput:"value=value.replace(/[^\\d.]/g,'')",onKeyup:(0,a.D2)(P.checkMonth,["enter"]),onBlur:P.checkMonth},null,8,["modelValue","onKeyup","onBlur"]),(0,t.Uk)(" -"),(0,t.Wm)(W,{class:"inputBox",modelValue:w.updPolicemenDay,"onUpdate:modelValue":l[16]||(l[16]=e=>w.updPolicemenDay=e),style:{width:"40px"},placeholder:"日",maxlength:"2",oninput:"value=value.replace(/[^\\d.]/g,'')",onKeyup:(0,a.D2)(P.checkDay,["enter"]),onBlur:P.checkDay},null,8,["modelValue","onKeyup","onBlur"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新性别:")])),_:1}),(0,t.Wm)(f,{class:"inputBox",modelValue:w.updPolicemenSex,"onUpdate:modelValue":l[17]||(l[17]=e=>w.updPolicemenSex=e),style:{width:"231px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{label:"男",value:"M"}),(0,t.Wm)(g,{label:"女",value:"F"})])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新民族:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.updPolicemenNation,"onUpdate:modelValue":l[18]||(l[18]=e=>w.updPolicemenNation=e),style:{width:"250px"},placeholder:"请输入民族",clearable:""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新电话:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.updPolicemenPhone,"onUpdate:modelValue":l[19]||(l[19]=e=>w.updPolicemenPhone=e),style:{width:"231px"},placeholder:"请输入电话",clearable:"",maxlength:"11",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(_,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新邮件:")])),_:1}),(0,t.Wm)(W,{class:"inputBox",modelValue:w.updPolicemenEmail,"onUpdate:modelValue":l[20]||(l[20]=e=>w.updPolicemenEmail=e),style:{width:"250px"},placeholder:"请输入邮件",clearable:""},null,8,["modelValue"])])])]),(0,t._)("div",x,[(0,t.Wm)(I,{type:"primary",onClick:P.updPolicemenInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("修改信息")])),_:1},8,["onClick"])])])])),_:1})])),_:1},8,["modelValue"])],64)}var P=o(7138),b=o(7178),_={data(){return{anv:"1",policemenID:"",policemenName:"",policemenIDNum:"",policemenYear:"",policemenSex:"",policemenNation:"",policemenStatus:"",policemenPosition:"",policemenInfo:[],delPolicemenID:"",depPolicemenID:"",updPolicemenID:"",updPolicemenName:"",updPolicemenIDNum:"",updPolicemenYear:"",updPolicemenMonth:"",updPolicemenDay:"",updPolicemenSex:"",updPolicemenNation:"",updPolicemenPhone:"",updPolicemenEmail:""}},methods:{handleMouseMove(e){const l=e.pageX-e.target.offsetLeft,o=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${l}px`),e.target.style.setProperty("--y",`${o}px`)},checkYear(){Number(this.policemenYear)<1900&&(this.policemenYear="1900"),Number(this.policemenYear)>2100&&(this.policemenYear="2100")},async fetchPolicemenInfo(){try{const e=await P.Z.get(`/api/policemenInfo?policemenID=${encodeURIComponent(this.policemenID)}&policemenName=${encodeURIComponent(this.policemenName)}&policemenIDNum=${encodeURIComponent(this.policemenIDNum)}&policemenYear=${encodeURIComponent(this.policemenYear)}&policemenSex=${encodeURIComponent(this.policemenSex)}&policemenNation=${encodeURIComponent(this.policemenNation)}&policemenStatus=${encodeURIComponent(this.policemenStatus)}&policemenPosition=${encodeURIComponent(this.policemenPosition)}`);this.policemenInfo=e.data.map((e=>"M"===e.gender?{...e,gender:"男"}:"F"===e.gender?{...e,gender:"女"}:e))}catch(e){(0,b.z8)({showClose:!0,message:"获取警员列表失败！",type:"error",duration:5e3})}},async delPolicemenInfo(){try{const e=localStorage.getItem("policeNumber"),l=await P.Z.delete(`/api/delPolicemen?policemenID=${encodeURIComponent(this.delPolicemenID)}&myPolicemenID=${encodeURIComponent(e)}`);"string"==typeof l.data?(0,b.z8)({showClose:!0,message:l.data,type:"warning",duration:5e3}):(await this.fetchPolicemenInfo(),(0,b.z8)({showClose:!0,message:"删除警员成功! ",type:"success",duration:5e3}))}catch(e){(0,b.z8)({showClose:!0,message:"删除警员失败！",type:"error",duration:5e3})}},async depart(){try{const e=localStorage.getItem("policeNumber"),l=await P.Z.put(`/api/depart?policemenID=${encodeURIComponent(this.depPolicemenID)}&myPolicemenID=${encodeURIComponent(e)}`);"string"==typeof l.data?(0,b.z8)({showClose:!0,message:l.data,type:"warning",duration:5e3}):(await this.fetchPolicemenInfo(),(0,b.z8)({showClose:!0,message:"登记成功! ",type:"success",duration:5e3}))}catch(e){(0,b.z8)({showClose:!0,message:"登记失败！",type:"error",duration:5e3})}},async updPolicemenInfo(){try{const e=localStorage.getItem("policeNumber"),l=await P.Z.put(`/api/updPolicemen?policemenID=${encodeURIComponent(this.updPolicemenID)}&policemenName=${encodeURIComponent(this.updPolicemenName)}&policemenIDNum=${encodeURIComponent(this.updPolicemenIDNum)}&policemenYear=${encodeURIComponent(this.updPolicemenYear)}&policemenMonth=${encodeURIComponent(this.updPolicemenMonth)}&policemenDay=${encodeURIComponent(this.updPolicemenDay)}&policemenSex=${encodeURIComponent(this.updPolicemenSex)}&policemenNation=${encodeURIComponent(this.updPolicemenNation)}&myPolicemenID=${encodeURIComponent(e)}&policemenPhone=${encodeURIComponent(this.updPolicemenPhone)}&policemenEmail=${encodeURIComponent(this.updPolicemenEmail)}`);"string"==typeof l.data?(0,b.z8)({showClose:!0,message:l.data,type:"warning",duration:5e3}):(await this.fetchPolicemenInfo(),(0,b.z8)({showClose:!0,message:"修改成功! ",type:"success",duration:5e3}))}catch(e){console.log(e),(0,b.z8)({showClose:!0,message:"修改失败！",type:"error",duration:5e3})}},checkYear2(){const e=Number(this.updPolicemenYear);var l=0;e<1900&&(this.updPolicemenYear="1900",l=1),e>2100&&(this.updPolicemenYear="2100",l=1),1==l&&(this.updPolicemenMonth="",this.updPolicemenDay="")},checkMonth(){const e=Number(this.updPolicemenMonth);var l=0;e<1&&(this.updPolicemenMonth="1",l=1),e>12&&(this.updPolicemenMonth="12",l=1),1==l&&(this.updPolicemenDay="")},checkDay(){const e=Number(this.updPolicemenYear),l=Number(this.updPolicemenMonth),o=Number(this.updPolicemenDay);o<1&&(this.updPolicemenDay="1"),2===l?e%4===0&&e%100!==0||e%400===0?o>29&&(this.updPolicemenDay="29"):o>28&&(this.updPolicemenDay="28"):4===l||6===l||9===l||11===l?o>30&&(this.updPolicemenDay="30"):o>31&&(this.updPolicemenDay="31")}},watch:{updPolicemenYear(){this.updPolicemenMonth="",this.updPolicemenDay=""},updPolicemenMonth(){this.updPolicemenDay=""}}},W=o(89);const g=(0,W.Z)(_,[["render",w],["__scopeId","data-v-fe9d2ea4"]]);var f=g}}]);
//# sourceMappingURL=25.e94e9614.js.map