"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[693],{5693:function(e,l,a){a.r(l),a.d(l,{default:function(){return U}});var t=a(3396),s=a(9242),o=a(7139);const n=e=>((0,t.dD)("data-v-2c04952b"),e=e(),(0,t.Cn)(),e),r=n((()=>(0,t._)("div",null,"  案件管理 > 犯罪记录管理",-1))),d={style:{"text-align":"center"}},p={style:{display:"inline-block","text-align":"left"}},i={class:"seaButton"},u={style:{"text-align":"center"}},m={style:{display:"inline-block","text-align":"left"}},c={class:"qianru"},h=n((()=>(0,t._)("td",null,null,-1))),y={class:"seaButton"},w={style:{"text-align":"center"}},f={style:{display:"inline-block","text-align":"left"}},b={class:"qianru"},C=n((()=>(0,t._)("td",null,null,-1))),_={class:"seaButton"};function x(e,l,a,n,x,I){const g=(0,t.up)("el-header"),W=(0,t.up)("el-text"),v=(0,t.up)("el-input"),k=(0,t.up)("el-option"),U=(0,t.up)("el-select"),V=(0,t.up)("el-button"),D=(0,t.up)("el-divider"),T=(0,t.up)("el-table-column"),P=(0,t.up)("el-table"),$=(0,t.up)("el-tab-pane"),z=(0,t.up)("el-tabs");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(g,{class:"sub-header",onMousemove:I.handleMouseMove},{default:(0,t.w5)((()=>[r])),_:1},8,["onMousemove"]),(0,t.Wm)(z,{modelValue:x.anv,"onUpdate:modelValue":l[12]||(l[12]=e=>x.anv=e),type:"border-card",style:{"margin-top":"10vh"}},{default:(0,t.w5)((()=>[(0,t.Wm)($,{label:"查询犯人",name:"1"},{default:(0,t.w5)((()=>[(0,t._)("div",d,[(0,t._)("table",p,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("姓名：")])),_:1}),(0,t.Wm)(v,{class:"inputBox",modelValue:x.prisonerName,"onUpdate:modelValue":l[0]||(l[0]=e=>x.prisonerName=e),placeholder:"请输入姓名"},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("性别：")])),_:1}),(0,t.Wm)(U,{class:"inputBox",modelValue:x.prisonerSex,"onUpdate:modelValue":l[1]||(l[1]=e=>x.prisonerSex=e),placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{selected:"",label:"全部性别",value:""}),(0,t.Wm)(k,{label:"男",value:"M"}),(0,t.Wm)(k,{label:"女",value:"F"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("住址：")])),_:1}),(0,t.Wm)(v,{class:"inputBox",modelValue:x.prisonerAddress,"onUpdate:modelValue":l[2]||(l[2]=e=>x.prisonerAddress=e),placeholder:"请输入住址"},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("身份证号：")])),_:1}),(0,t.Wm)(v,{class:"inputBox",modelValue:x.prisonerID,"onUpdate:modelValue":l[3]||(l[3]=e=>x.prisonerID=e),placeholder:"请输入身份证号码",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"18","show-word-limit":""},null,8,["modelValue"])])])]),(0,t._)("div",i,[(0,t.Wm)(V,{type:"primary",onClick:I.fetchPrisonerInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("查询")])),_:1},8,["onClick"])])]),(0,t.Wm)(D),(0,t._)("div",null,[x.showCase?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(P,{key:0,data:x.chanPrisonerInfo,stripe:"",height:"450",onWheelPassive:l[4]||(l[4]=(0,s.iM)((()=>{}),["stop"]))},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{prop:"id",label:"身份证号",sortable:"",width:"250px"}),(0,t.Wm)(T,{prop:"name",label:"姓名",sortable:"",width:"150px"}),(0,t.Wm)(T,{prop:"sex",label:"性别",sortable:"",width:"150px"}),(0,t.Wm)(T,{prop:"address",label:"住址",sortable:""}),(0,t.Wm)(T,{align:"right",width:"100px"},{header:(0,t.w5)((()=>[])),default:(0,t.w5)((e=>[(0,t.Wm)(V,{size:"small",type:"primary",onClick:l=>I.getCase(e.$index,e.row)},{default:(0,t.w5)((()=>[(0,t.Uk)("涉及案件")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),x.showCase&&x.caseInfo.length>0?((0,t.wg)(),(0,t.j4)(P,{key:1,data:x.caseInfo,stripe:"",height:"450",onWheelPassive:l[5]||(l[5]=(0,s.iM)((()=>{}),["stop"]))},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{prop:"id",label:"案件编号",sortable:"",width:"120px"}),(0,t.Wm)(T,{prop:"type",label:"案件类型",sortable:"",width:"120px"}),(0,t.Wm)(T,{prop:"status",label:"案件状态",sortable:"",width:"120px"}),(0,t.Wm)(T,{prop:"registerTime",label:"登记时间",sortable:""}),(0,t.Wm)(T,{prop:"address",label:"案发地点",sortable:""}),(0,t.Wm)(T,{prop:"ranking",label:"案件等级",sortable:"",width:"120px"}),(0,t.Wm)(T,{align:"center",width:"80px"},{header:(0,t.w5)((()=>[(0,t.Wm)(V,{size:"small",type:"primary",onClick:I.back},{default:(0,t.w5)((()=>[(0,t.Uk)("返回")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["data"])):(0,t.kq)("",!0)])])),_:1}),(0,t.Wm)($,{label:"新增犯人",name:"2"},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t._)("table",m,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary",style:{"margin-right":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("案件编号:")])),_:1}),(0,t.Wm)(v,{modelValue:x.addCaseID,"onUpdate:modelValue":l[6]||(l[6]=e=>x.addCaseID=e),placeholder:"案件编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":"",style:{width:"190px"}},{prepend:(0,t.w5)((()=>[(0,t._)("div",c,(0,o.zw)(x.type1),1)])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("案件类型:")])),_:1}),(0,t.Wm)(U,{class:"inputBox",modelValue:x.addCaseType,"onUpdate:modelValue":l[7]||(l[7]=e=>x.addCaseType=e),placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"强奸",value:"强奸"}),(0,t.Wm)(k,{label:"抢劫",value:"抢劫"}),(0,t.Wm)(k,{label:"故意伤害",value:"故意伤害"}),(0,t.Wm)(k,{label:"盗窃",value:"盗窃"}),(0,t.Wm)(k,{label:"诈骗",value:"诈骗"}),(0,t.Wm)(k,{label:"谋杀",value:"谋杀"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[h,(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary",style:{"margin-left":"7px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("身份证号：")])),_:1}),(0,t.Wm)(v,{class:"inputBox",modelValue:x.addPrisonerID,"onUpdate:modelValue":l[8]||(l[8]=e=>x.addPrisonerID=e),placeholder:"请输入身份证号",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{"margin-left":"3px"},clearable:"",maxlength:"18","show-word-limit":""},null,8,["modelValue"])])])]),(0,t._)("div",y,[(0,t.Wm)(V,{type:"primary",onClick:I.addPrisonerInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("新增犯人")])),_:1},8,["onClick"])])])])),_:1}),(0,t.Wm)($,{label:"删除犯人",name:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",w,[(0,t._)("table",f,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary",style:{"margin-right":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("案件编号:")])),_:1}),(0,t.Wm)(v,{modelValue:x.delCaseID,"onUpdate:modelValue":l[9]||(l[9]=e=>x.delCaseID=e),placeholder:"案件编号",clearable:"",maxlength:"7",oninput:"value=value.replace(/[^\\d.]/g,'')","show-word-limit":"",style:{width:"190px"}},{prepend:(0,t.w5)((()=>[(0,t._)("div",b,(0,o.zw)(x.type2),1)])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("案件类型:")])),_:1}),(0,t.Wm)(U,{class:"inputBox",modelValue:x.delCaseType,"onUpdate:modelValue":l[10]||(l[10]=e=>x.delCaseType=e),placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"强奸",value:"强奸"}),(0,t.Wm)(k,{label:"抢劫",value:"抢劫"}),(0,t.Wm)(k,{label:"故意伤害",value:"故意伤害"}),(0,t.Wm)(k,{label:"盗窃",value:"盗窃"}),(0,t.Wm)(k,{label:"诈骗",value:"诈骗"}),(0,t.Wm)(k,{label:"谋杀",value:"谋杀"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[C,(0,t._)("td",null,[(0,t.Wm)(W,{class:"noteText",type:"primary",style:{"margin-left":"7px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("身份证号：")])),_:1}),(0,t.Wm)(v,{class:"inputBox",modelValue:x.delPrisonerID,"onUpdate:modelValue":l[11]||(l[11]=e=>x.delPrisonerID=e),placeholder:"请输入身份证号",oninput:"value=value.replace(/[^\\d.]/g,'')",style:{"margin-left":"3px"},clearable:"",maxlength:"18","show-word-limit":""},null,8,["modelValue"])])])]),(0,t._)("div",_,[(0,t.Wm)(V,{type:"primary",onClick:I.delPrisonerInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("删除犯人")])),_:1},8,["onClick"])])])])),_:1})])),_:1},8,["modelValue"])],64)}var I=a(7138),g=a(7178),W={data(){return{anv:"1",showCase:!1,prisonerID:"",prisonerName:"",prisonerSex:"",prisonerAddress:"",prisonerInfo:[],chanPrisonerInfo:[],caseInfo:[],addPrisonerID:"",addCaseID:"",addCaseType:"",type1:"",delPrisonerID:"",delCaseID:"",delCaseType:"",type2:""}},methods:{handleMouseMove(e){const l=e.pageX-e.target.offsetLeft,a=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${l}px`),e.target.style.setProperty("--y",`${a}px`)},async fetchPrisonerInfo(){try{const e=await I.Z.get(`/api/prisonerInfo?prisonerID=${encodeURIComponent(this.prisonerID)}&prisonerName=${encodeURIComponent(this.prisonerName)}&prisonerSex=${encodeURIComponent(this.prisonerSex)}&prisonerAddress=${encodeURIComponent(this.prisonerAddress)}`);this.prisonerInfo=e.data,this.chanPrisonerInfo=this.prisonerInfo.map((e=>"M"===e.sex?{...e,sex:"男"}:"F"===e.sex?{...e,sex:"女"}:e))}catch(e){(0,g.z8)({showClose:!0,message:"获取犯人列表失败！",type:"error",duration:5e3})}},async getCase(e,l){try{const e=await I.Z.get(`/api/getCaseP?prisonerID=${encodeURIComponent(l.id)}`);this.caseInfo=e.data,this.showCase=!0}catch(a){(0,g.z8)({showClose:!0,message:"获取案件信息失败！",type:"error",duration:5e3})}},async addPrisonerInfo(){try{const e=await I.Z.post(`/api/addPrisoner?prisonerID=${encodeURIComponent(this.addPrisonerID)}&caseID=${encodeURIComponent(this.addCaseID)}&caseType=${encodeURIComponent(this.addCaseType)}`);"string"==typeof e.data?(0,g.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchPrisonerInfo(),(0,g.z8)({showClose:!0,message:"新增犯人成功! ",type:"success",duration:5e3}))}catch(e){(0,g.z8)({showClose:!0,message:"新增犯人失败！",type:"error",duration:5e3})}},async delPrisonerInfo(){try{const e=await I.Z.delete(`/api/delPrisoner?prisonerID=${encodeURIComponent(this.delPrisonerID)}&caseID=${encodeURIComponent(this.delCaseID)}&caseType=${encodeURIComponent(this.delCaseType)}`);"string"==typeof e.data?(0,g.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchPrisonerInfo(),(0,g.z8)({showClose:!0,message:"删除犯人成功! ",type:"success",duration:5e3}))}catch(e){(0,g.z8)({showClose:!0,message:"删除犯人失败！",type:"error",duration:5e3})}},async back(){this.caseInfo="",this.showCase=!1},typeToID(e){return""===e?"":"强奸"===e?"A":"抢劫"===e?"R":"故意伤害"===e?"H":"盗窃"===e?"T":"诈骗"===e?"C":"谋杀"===e?"M":((0,g.z8)({showClose:!0,message:"案件类型转换错误！",type:"error",duration:5e3}),"")}},watch:{addCaseType(){this.type1=this.typeToID(this.addCaseType)},delCaseType(){this.type2=this.typeToID(this.delCaseType)}}},v=a(89);const k=(0,v.Z)(W,[["render",x],["__scopeId","data-v-2c04952b"]]);var U=k}}]);
//# sourceMappingURL=693.f62b7713.js.map