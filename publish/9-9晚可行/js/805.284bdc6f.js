"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[805],{5805:function(e,t,l){l.r(t),l.d(t,{default:function(){return D}});var o=l(3396),i=l(7139),a=l(9242);const n=e=>((0,o.dD)("data-v-f077ebe6"),e=e(),(0,o.Cn)(),e),s={class:"main",style:{width:"60%",display:"inline-block","margin-left":"20px"}},r={style:{height:"200px",font:"400 25px Inter, sans-serif","vertical-align":"top"}},u=n((()=>(0,o._)("br",null,null,-1))),d=n((()=>(0,o._)("br",null,null,-1))),c=n((()=>(0,o._)("div",{style:{font:"400 20px Inter, sans-serif"}},[(0,o._)("br"),(0,o.Uk)("开始愉快的一天")],-1))),h=n((()=>(0,o._)("div",{class:"syslogtitle"},[(0,o._)("div",{class:"syslog"},"系统日志")],-1))),p={style:{width:"31%","min-height":"100px","margin-left":"5%",display:"inline-block","background-color":"rgba(255, 255, 255, 0.733)","vertical-align":"top"}},m={class:"syslogtitle"},b=n((()=>(0,o._)("div",{class:"syslog"},"常用功能",-1))),g={style:{"min-width":"100%"}};function y(e,t,l,n,y,f){const w=(0,o.up)("el-table-column"),_=(0,o.up)("el-table"),M=(0,o.up)("el-button"),O=(0,o.up)("more-options-dialog"),k=(0,o.up)("el-calendar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",s,[(0,o._)("div",r,[(0,o._)("div",null,[u,(0,o.Uk)("欢迎回来，"+(0,i.zw)(y.myPoliceNumber),1),d]),c]),h,y.auditInfo.length>0?((0,o.wg)(),(0,o.j4)(_,{key:0,data:y.auditInfo,stripe:"",height:"450",onWheelPassive:t[0]||(t[0]=(0,a.iM)((()=>{}),["stop"]))},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{prop:"oS_USERNAME",label:"操作系统用户名",width:"150"}),(0,o.Wm)(w,{prop:"username",label:"用户名",width:"120"}),(0,o.Wm)(w,{prop:"obJ_NAME",label:"表名"}),(0,o.Wm)(w,{prop:"actioN_NAME",label:"操作名称",width:"100"}),(0,o.Wm)(w,{prop:"actioN_TIME",label:"操作时间"})])),_:1},8,["data"])):(0,o.kq)("",!0)]),(0,o._)("div",p,[(0,o._)("div",m,[b,(0,o._)("button",{style:{height:"80%",position:"absolute",width:"100px",right:"10px","background-color":"#c1b598",color:"white",cursor:"pointer",border:"none"},onClick:t[1]||(t[1]=(...e)=>f.showMoreOptions&&f.showMoreOptions(...e))}," 更多功能 ")]),(0,o._)("div",g,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(y.selectedOptions,(e=>((0,o.wg)(),(0,o.j4)(M,{class:"ssqfuncbutton",key:e,label:e,onClick:t=>f.goTo(e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e),1)])),_:2},1032,["label","onClick"])))),128))])]),(0,o.Wm)(O,{onOptionsSelected:f.handleOptionsSelected,ref:"moreOptionsDialog"},null,8,["onOptionsSelected"]),(0,o.Wm)(k,{class:"calendar"})],64)}l(7658);var f=l(7138),w=l(4870);const _={style:{"min-width":"600px"}},M=(0,o._)("h2",null,[(0,o.Uk)("警员管理"),(0,o._)("br"),(0,o._)("div",{style:{color:"#d7caaa"}},"----------------------------------------------------------------")],-1),O=(0,o._)("h2",null,[(0,o._)("br"),(0,o.Uk)("案件管理"),(0,o._)("br"),(0,o._)("div",{style:{color:"#d7caaa"}},"----------------------------------------------------------------")],-1),k=(0,o._)("h2",null,[(0,o._)("br"),(0,o.Uk)("装备管理"),(0,o._)("br"),(0,o._)("div",{style:{color:"#d7caaa"}},"----------------------------------------------------------------")],-1),V=(0,o._)("h2",null,[(0,o._)("br"),(0,o.Uk)("城区和居民管理"),(0,o._)("br"),(0,o._)("div",{style:{color:"#d7caaa"}},"----------------------------------------------------------------")],-1),v=(0,o._)("h2",null,[(0,o._)("br"),(0,o.Uk)("案件办理"),(0,o._)("br"),(0,o._)("div",{style:{color:"#d7caaa"}},"----------------------------------------------------------------")],-1),S=(0,o._)("h2",null,"最多只能选择12个功能！",-1);function C(e,t,l,a,n,s){const r=(0,o.up)("el-checkbox"),u=(0,o.up)("el-checkbox-group"),d=(0,o.up)("el-button"),c=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.iD)("div",_,[(0,o.Wm)(c,{title:"更多功能",modelValue:n.dialogVisible,"onUpdate:modelValue":t[5]||(t[5]=e=>n.dialogVisible=e),onOpen:n.dialogVisible,onClose:s.handleClose},{default:(0,o.w5)((()=>[M,(0,o.Wm)(u,{modelValue:n.internalSelectedOptions,"onUpdate:modelValue":t[0]||(t[0]=e=>n.internalSelectedOptions=e)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.options,(e=>((0,o.wg)(),(0,o.j4)(r,{style:{width:"150px"},id:"cb",key:e.label,label:e.label,disabled:e.authority>n.myAuthority},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1032,["label","disabled"])))),128))])),_:1},8,["modelValue"]),O,(0,o.Wm)(u,{modelValue:n.internalSelectedOptions,"onUpdate:modelValue":t[1]||(t[1]=e=>n.internalSelectedOptions=e)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.options2,(e=>((0,o.wg)(),(0,o.j4)(r,{style:{width:"150px"},id:"cb",key:e.label,label:e.label,disabled:e.authority>n.myAuthority},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1032,["label","disabled"])))),128))])),_:1},8,["modelValue"]),k,(0,o.Wm)(u,{modelValue:n.internalSelectedOptions,"onUpdate:modelValue":t[2]||(t[2]=e=>n.internalSelectedOptions=e)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.options3,(e=>((0,o.wg)(),(0,o.j4)(r,{style:{width:"150px"},id:"cb",key:e.label,label:e.label,disabled:e.authority>n.myAuthority},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1032,["label","disabled"])))),128))])),_:1},8,["modelValue"]),V,(0,o.Wm)(u,{modelValue:n.internalSelectedOptions,"onUpdate:modelValue":t[3]||(t[3]=e=>n.internalSelectedOptions=e)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.options4,(e=>((0,o.wg)(),(0,o.j4)(r,{style:{width:"150px"},id:"cb",key:e.label,label:e.label,disabled:e.authority>n.myAuthority},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1032,["label","disabled"])))),128))])),_:1},8,["modelValue"]),v,(0,o.Wm)(u,{modelValue:n.internalSelectedOptions,"onUpdate:modelValue":t[4]||(t[4]=e=>n.internalSelectedOptions=e)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.options6,(e=>((0,o.wg)(),(0,o.j4)(r,{style:{width:"150px"},id:"cb",key:e.label,label:e.label,disabled:e.authority>n.myAuthority},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1032,["label","disabled"])))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(d,{onClick:s.confirmOptions},{default:(0,o.w5)((()=>[(0,o.Uk)("确认")])),_:1},8,["onClick"])])),_:1},8,["modelValue","onOpen","onClose"]),(0,o.Wm)(c,{title:"警告",modelValue:n.errdialogVisible,"onUpdate:modelValue":t[6]||(t[6]=e=>n.errdialogVisible=e),onClose:s.errClose},{default:(0,o.w5)((()=>[S,(0,o.Wm)(d,{onClick:s.errConfirm},{default:(0,o.w5)((()=>[(0,o.Uk)("确认")])),_:1},8,["onClick"])])),_:1},8,["modelValue","onClose"])])}var $={data(){return{dialogVisible:!1,errdialogVisible:!1,internalSelectedOptions:[],myAuthority:0,options:[{label:"注册",authority:"1",icon:"el-icon-star-off"},{label:"警员权限修改",authority:"2",icon:"el-icon-user"},{label:"警员考核管理",authority:"1",icon:"el-icon-suitcase"},{label:"警局信息管理",authority:"4",icon:"el-icon-date"},{label:"警员信息管理",authority:"0",icon:"el-icon-food"},{label:"警员出勤管理",authority:"1",icon:"el-icon-food"},{label:"执法录像管理",authority:"1",icon:"el-icon-food"},{label:"接警记录管理",authority:"1",icon:"el-icon-food"},{label:"薪水管理",authority:"4",icon:"el-icon-food"}],options2:[{label:"嫌疑人信息管理",authority:"1",icon:"el-icon-star-off"},{label:"犯罪记录管理",authority:"1",icon:"el-icon-star-off"},{label:"受害人信息管理",authority:"1",icon:"el-icon-star-off"},{label:"案件分类与管理",authority:"1",icon:"el-icon-star-off"},{label:"犯罪数据统计",authority:"1",icon:"el-icon-star-off"},{label:"重点人员统计",authority:"1",icon:"el-icon-star-off"}],options3:[{label:"警车管理",authority:"1",icon:"el-icon-star-off"},{label:"警械管理",authority:"1",icon:"el-icon-star-off"}],options4:[{label:"公民户籍管理",authority:"1",icon:"el-icon-star-off"},{label:"城市地区管理",authority:"1",icon:"el-icon-star-off"},{label:"城市调度管理",authority:"1",icon:"el-icon-star-off"},{label:"家族背景调查",authority:"1",icon:"el-icon-star-off"}],options5:[{label:"数据质量管理",authority:"1",icon:"el-icon-star-off"}],options6:[{label:"案件办理",authority:"1",icon:"el-icon-star-off"}],options7:[{label:"系统日志管理",authority:"1",icon:"el-icon-star-off"}]}},props:{selectedOptions:{type:Array,default:()=>[]}},methods:{showMoreOptions(e,t){console.log("打开更多功能"),this.internalSelectedOptions=e,this.myAuthority=t,console.log(this.myAuthority),this.dialogVisible=!0,console.log(this.internalSelectedOptions)},handleClose(){this.dialogVisible=!1},confirmOptions(){var e=this.internalSelectedOptions.length;console.log(e),e<=12?(this.dialogVisible=!1,this.$emit("options-selected",this.internalSelectedOptions)):this.errdialogVisible=!0},errClose(){this.errdialogVisible=!1},errConfirm(){this.errdialogVisible=!1}}},U=l(89);const I=(0,U.Z)($,[["render",C]]);var x=I,A={setup(){const e=(0,w.iH)(1500),t=(0,w.iH)(1500),l=(0,w.iH)(3e3),o=o=>{o.deltaY>0?e.value<l.value&&(e.value+=50):e.value>t.value&&(e.value-=50)};return{handleScroll:o,containerHeight:e,minHeight:t,maxScrollHeight:l}},data(){return{selectedOptions:["警员信息管理"],myAuthority:localStorage.getItem("authority"),myPoliceNumber:localStorage.getItem("policeNumber"),dialogVisible:!1,auditInfo:[]}},components:{MoreOptionsDialog:x},methods:{goTo(e){"注册"==e?this.$router.push("/mainMenu/Register"):"警员权限修改"==e?this.$router.push("/mainMenu/ChangePermission"):"警员考核管理"==e?this.$router.push("/mainMenu/PoliceAssessment"):"警局信息管理"==e?this.$router.push("/mainMenu/PoliceStationInfoManagement"):"警员信息管理"==e?this.$router.push("/mainMenu/PoliceOfficerInfoManagement"):"警员出勤管理"==e?this.$router.push("/mainMenu/AttendanceManagement"):"执法录像管理"==e?this.$router.push("/mainMenu/VideoManagement"):"接警记录管理"==e?this.$router.push("/mainMenu/AlarmResponseRecordManagement"):"薪水管理"==e?this.$router.push("/mainMenu/PayrollManagement"):"嫌疑人信息管理"==e?this.$router.push("/mainMenu/SuspectInfoManagement"):"犯罪记录管理"==e?this.$router.push("/mainMenu/CriminalRecordManagement"):"受害人信息管理"==e?this.$router.push("/mainMenu/VictimInfoManagement"):"案件分类与管理"==e?this.$router.push("/mainMenu/CaseClassificationManagement"):"犯罪数据统计"==e?this.$router.push("/mainMenu/CrimeDataStatistics"):"重点人员统计"==e?this.$router.push("/mainMenu/KeyIndividualsManagement"):"警车管理"==e?this.$router.push("/mainMenu/PoliceVehicleManagement"):"警械管理"==e?this.$router.push("/mainMenu/PoliceEquipmentManagement"):"公民户籍管理"==e?this.$router.push("/mainMenu/CitizenInfoManagement"):"城市地区管理"==e?this.$router.push("/mainMenu/UrbanZoningManagement"):"城市调度管理"==e?this.$router.push("/mainMenu/RegionalDispatch"):"家族背景调查"==e?this.$router.push("/mainMenu/FamilybgCheck"):"案件办理"==e&&this.$router.push("/mainMenu/CaseInvestigation")},showMoreOptions(){this.$refs.moreOptionsDialog.showMoreOptions(this.selectedOptions,this.myAuthority)},handleOptionsSelected(e){this.selectedOptions=e,localStorage.setItem("selectedOptions_"+this.myPoliceNumber,JSON.stringify(e))},handleMouseMove(e){const t=e.pageX-e.target.offsetLeft,l=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${t}px`),e.target.style.setProperty("--y",`${l}px`)}},created(){setTimeout((()=>{location.href.indexOf("?reload=true")<0&&(location.href+="?reload=true",location.reload())}),100);const e=localStorage.getItem("policeNumber"),t=localStorage.getItem("selectedOptions_"+e);t&&(console.log(t),this.selectedOptions=JSON.parse(t)),f.Z.post("/api/audit",{myAuthority:localStorage.getItem("authority"),myPoliceNumber:localStorage.getItem("policeNumber")}).then((e=>{this.auditInfo=e.data})).catch((e=>{alert(e),console.log("函数出错："+e)}))}};const W=(0,U.Z)(A,[["render",y],["__scopeId","data-v-f077ebe6"]]);var D=W}}]);
//# sourceMappingURL=805.284bdc6f.js.map