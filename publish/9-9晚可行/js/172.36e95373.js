"use strict";(self["webpackChunkdbproject"]=self["webpackChunkdbproject"]||[]).push([[172],{2172:function(e,l,a){a.r(l),a.d(l,{default:function(){return $}});var t=a(3396),o=a(7139),n=a(9242);const m=e=>((0,t.dD)("data-v-084d91df"),e=e(),(0,t.Cn)(),e),d=m((()=>(0,t._)("div",null,"  警员管理 > 接警记录管理",-1))),r={style:{"text-align":"center"}},s={style:{display:"inline-block","text-align":"left"}},u={class:"qianru"},p=m((()=>(0,t._)("td",null,null,-1))),i={class:"seaButton"},c={style:{"text-align":"center"}},y={style:{display:"inline-block","text-align":"left"}},h=m((()=>(0,t._)("td",null,null,-1))),w={class:"seaButton"},I={style:{"text-align":"center"}},f={style:{display:"inline-block","text-align":"left"}},_={style:{"text-align":"center"}},g={style:{display:"inline-block","text-align":"left"}},x={class:"qianru"},W=m((()=>(0,t._)("td",null,null,-1))),v={class:"seaButton"},D={style:{"text-align":"center"}},T={style:{display:"inline-block","text-align":"left"}},b={class:"seaButton"};function C(e,l,a,m,C,U){const V=(0,t.up)("el-header"),A=(0,t.up)("el-text"),k=(0,t.up)("el-input"),B=(0,t.up)("el-date-picker"),$=(0,t.up)("el-option"),R=(0,t.up)("el-select"),z=(0,t.up)("el-button"),N=(0,t.up)("el-divider"),P=(0,t.up)("el-table-column"),M=(0,t.up)("el-table"),Z=(0,t.up)("el-tab-pane"),S=(0,t.up)("el-tabs");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(V,{class:"sub-header",onMousemove:U.handleMouseMove},{default:(0,t.w5)((()=>[d])),_:1},8,["onMousemove"]),(0,t.Wm)(S,{modelValue:C.anv,"onUpdate:modelValue":l[19]||(l[19]=e=>C.anv=e),type:"border-card",style:{"margin-top":"10vh"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{label:"查询接警记录",name:"1"},{default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t._)("table",s,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("接警记录编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.alarmID,"onUpdate:modelValue":l[0]||(l[0]=e=>C.alarmID=e),placeholder:"请输入接警记录编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("来电号码:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.alarmNum,"onUpdate:modelValue":l[1]||(l[1]=e=>C.alarmNum=e),placeholder:"请输入来电号码",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"11","show-word-limit":""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("接警日期:")])),_:1}),(0,t.Wm)(B,{class:"inputBox",modelValue:C.alarmTime,"onUpdate:modelValue":l[2]||(l[2]=e=>C.alarmTime=e),type:"date",placeholder:"请选择接警日期",style:{"margin-left":"10px",width:"200px"}},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("是否筛选时间:")])),_:1}),(0,t.Wm)(R,{class:"inputBox",modelValue:C.isT,"onUpdate:modelValue":l[3]||(l[3]=e=>C.isT=e),style:{"margin-left":"10px",width:"200px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)($,{label:"不筛选",value:"F"}),(0,t.Wm)($,{label:"筛选",value:"T"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("涉及案件编号:")])),_:1}),(0,t.Wm)(k,{modelValue:C.caseID,"onUpdate:modelValue":l[4]||(l[4]=e=>C.caseID=e),placeholder:"请输入案件编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":"",style:{width:"220px","margin-left":"10px"}},{prepend:(0,t.w5)((()=>[(0,t._)("div",u,(0,o.zw)(C.type1),1)])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("案件类型:")])),_:1}),(0,t.Wm)(R,{class:"inputBox",modelValue:C.caseType,"onUpdate:modelValue":l[5]||(l[5]=e=>C.caseType=e),style:{"margin-left":"10px",width:"200px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)($,{label:"全部类型",value:""}),(0,t.Wm)($,{label:"强奸",value:"强奸"}),(0,t.Wm)($,{label:"抢劫",value:"抢劫"}),(0,t.Wm)($,{label:"故意伤害",value:"故意伤害"}),(0,t.Wm)($,{label:"盗窃",value:"盗窃"}),(0,t.Wm)($,{label:"诈骗",value:"诈骗"}),(0,t.Wm)($,{label:"谋杀",value:"谋杀"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("接警警员编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.policemenID,"onUpdate:modelValue":l[6]||(l[6]=e=>C.policemenID=e),placeholder:"请输入警员编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),p])]),(0,t._)("div",i,[(0,t.Wm)(z,{type:"primary",onClick:U.fetchAlarmInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("查询")])),_:1},8,["onClick"])])]),(0,t.Wm)(N),(0,t._)("div",null,[(0,t.Wm)(M,{data:C.alarmInfo,stripe:"",height:"450",onWheelPassive:l[7]||(l[7]=(0,n.iM)((()=>{}),["stop"]))},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{prop:"alarmID",label:"接警记录编号",sortable:""}),(0,t.Wm)(P,{prop:"alarmTime",label:"接警记录时间",sortable:""}),(0,t.Wm)(P,{prop:"alarmNum",label:"来电号码",sortable:""}),(0,t.Wm)(P,{prop:"caseID",label:"涉及案件编号",sortable:""}),(0,t.Wm)(P,{prop:"policemenID",label:"接警警员",sortable:""})])),_:1},8,["data"])])])),_:1}),(0,t.Wm)(Z,{label:"新增接警记录",name:"2"},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("table",y,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("接警记录编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.addAlarmID,"onUpdate:modelValue":l[8]||(l[8]=e=>C.addAlarmID=e),placeholder:"请输入接警记录编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("来电号码:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.addAlarmNum,"onUpdate:modelValue":l[9]||(l[9]=e=>C.addAlarmNum=e),placeholder:"请输入来电号码",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"11","show-word-limit":""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("接警警员编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.addPolicemenID,"onUpdate:modelValue":l[10]||(l[10]=e=>C.addPolicemenID=e),placeholder:"请输入警员编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),h])]),(0,t._)("div",w,[(0,t.Wm)(z,{type:"primary",onClick:U.addAlarmInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("上传接警记录")])),_:1},8,["onClick"])])])])),_:1}),(0,t.Wm)(Z,{label:"删除接警记录",name:"3"},{default:(0,t.w5)((()=>[(0,t._)("div",I,[(0,t._)("table",f,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("接警记录编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.delAlarmID,"onUpdate:modelValue":l[11]||(l[11]=e=>C.delAlarmID=e),placeholder:"请输入接警记录编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(z,{type:"primary",onClick:U.delAlarmInfo,style:{"margin-left":"20px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("删除接警记录")])),_:1},8,["onClick"])])])])])])),_:1}),(0,t.Wm)(Z,{label:"添加/修改关联案件",name:"4"},{default:(0,t.w5)((()=>[(0,t._)("div",_,[(0,t._)("table",g,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("涉及案件编号:")])),_:1}),(0,t.Wm)(k,{modelValue:C.relCaseID,"onUpdate:modelValue":l[12]||(l[12]=e=>C.relCaseID=e),placeholder:"请输入案件编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":"",style:{width:"220px","margin-left":"10px"}},{prepend:(0,t.w5)((()=>[(0,t._)("div",x,(0,o.zw)(C.type4),1)])),_:1},8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("案件类型:")])),_:1}),(0,t.Wm)(R,{class:"inputBox",modelValue:C.relCaseType,"onUpdate:modelValue":l[13]||(l[13]=e=>C.relCaseType=e),style:{"margin-left":"10px",width:"200px"},placeholder:"请选择"},{default:(0,t.w5)((()=>[(0,t.Wm)($,{label:"强奸",value:"强奸"}),(0,t.Wm)($,{label:"抢劫",value:"抢劫"}),(0,t.Wm)($,{label:"故意伤害",value:"故意伤害"}),(0,t.Wm)($,{label:"盗窃",value:"盗窃"}),(0,t.Wm)($,{label:"诈骗",value:"诈骗"}),(0,t.Wm)($,{label:"谋杀",value:"谋杀"})])),_:1},8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("接警记录编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.relAlarmID,"onUpdate:modelValue":l[14]||(l[14]=e=>C.relAlarmID=e),placeholder:"请输入接警记录编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),W])]),(0,t._)("div",v,[(0,t.Wm)(z,{type:"primary",onClick:U.relAlarmInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("关联案件")])),_:1},8,["onClick"])])])])),_:1}),(0,t.Wm)(Z,{label:"修改接警记录",name:"5"},{default:(0,t.w5)((()=>[(0,t._)("div",D,[(0,t._)("table",T,[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("接警记录编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.updAlarmID,"onUpdate:modelValue":l[15]||(l[15]=e=>C.updAlarmID=e),placeholder:"请输入接警记录编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新来电号码:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.updAlarmNum,"onUpdate:modelValue":l[16]||(l[16]=e=>C.updAlarmNum=e),placeholder:"请输入来电号码",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"11","show-word-limit":""},null,8,["modelValue"])])]),(0,t._)("tr",null,[(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新警员编号:")])),_:1}),(0,t.Wm)(k,{class:"inputBox",modelValue:C.updPolicemenID,"onUpdate:modelValue":l[17]||(l[17]=e=>C.updPolicemenID=e),placeholder:"请输入警员编号",oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:"",maxlength:"7","show-word-limit":""},null,8,["modelValue"])]),(0,t._)("td",null,[(0,t.Wm)(A,{class:"noteText",type:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新接警时间:")])),_:1}),(0,t.Wm)(B,{class:"inputBox",modelValue:C.updAlarmTime,"onUpdate:modelValue":l[18]||(l[18]=e=>C.updAlarmTime=e),type:"datetime",placeholder:"请选择接警时间",style:{"margin-left":"10px",width:"200px"}},null,8,["modelValue"])])])]),(0,t._)("div",b,[(0,t.Wm)(z,{type:"primary",onClick:U.updAlarmInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("更新接警记录")])),_:1},8,["onClick"])])])])),_:1})])),_:1},8,["modelValue"])],64)}var U=a(7138),V=a(7178),A={data(){return{anv:"1",alarmID:"",alarmNum:"",alarmTime:new Date,isT:"F",caseID:"",caseType:"",policemenID:"",alarmInfo:[],type1:"",addAlarmID:"",addAlarmNum:"",addCaseID:"",addCaseType:"",addPolicemenID:"",type2:"",delAlarmID:"",relAlarmID:"",relCaseID:"",relCaseType:"",type4:"",updAlarmID:"",updAlarmTime:new Date,updAlarmNum:"",updPolicemenID:"",type3:""}},methods:{handleMouseMove(e){const l=e.pageX-e.target.offsetLeft,a=e.pageY-e.target.offsetTop;e.target.style.setProperty("--x",`${l}px`),e.target.style.setProperty("--y",`${a}px`)},async fetchAlarmInfo(){try{this.alarmTime=new Date(this.alarmTime).toISOString();const e=await U.Z.get(`/api/alarmInfo?alarmID=${encodeURIComponent(this.alarmID)}&alarmTime=${encodeURIComponent(this.alarmTime)}&isT=${encodeURIComponent(this.isT)}&alarmNum=${encodeURIComponent(this.alarmNum)}&caseID=${encodeURIComponent(this.caseID)}&caseType=${encodeURIComponent(this.caseType)}&policemenID=${encodeURIComponent(this.policemenID)}`);"string"==typeof e.data?(0,V.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):this.alarmInfo=e.data}catch(e){(0,V.z8)({showClose:!0,message:"获取接警记录列表失败！",type:"error",duration:5e3})}},async addAlarmInfo(){try{const e=await U.Z.post(`/api/addAlarm?alarmID=${encodeURIComponent(this.addAlarmID)}&alarmNum=${encodeURIComponent(this.addAlarmNum)}&policemenID=${encodeURIComponent(this.addPolicemenID)}`);"string"==typeof e.data?(0,V.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchAlarmInfo(),(0,V.z8)({showClose:!0,message:"新增接警记录成功! ",type:"success",duration:5e3}))}catch(e){(0,V.z8)({showClose:!0,message:"新增接警记录失败！",type:"error",duration:5e3})}},async delAlarmInfo(){try{const e=await U.Z.delete(`/api/delAlarm?alarmID=${encodeURIComponent(this.delAlarmID)}`);"string"==typeof e.data?(0,V.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchAlarmInfo(),(0,V.z8)({showClose:!0,message:"删除接警记录成功! ",type:"success",duration:5e3}))}catch(e){(0,V.z8)({showClose:!0,message:"删除接警记录失败！",type:"error",duration:5e3})}},async updAlarmInfo(){try{this.updAlarmTime=new Date(this.updAlarmTime).toISOString();const e=await U.Z.put(`/api/updAlarm?alarmID=${encodeURIComponent(this.updAlarmID)}&alarmTime=${encodeURIComponent(this.updAlarmTime)}&alarmNum=${encodeURIComponent(this.updAlarmNum)}&policemenID=${encodeURIComponent(this.updPolicemenID)}`);"string"==typeof e.data?(0,V.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchAlarmInfo(),(0,V.z8)({showClose:!0,message:"修改成功! ",type:"success",duration:5e3}))}catch(e){(0,V.z8)({showClose:!0,message:"修改失败！",type:"error",duration:5e3})}},async relAlarmInfo(){try{const e=await U.Z.put(`/api/relAlarm?alarmID=${encodeURIComponent(this.relAlarmID)}&caseID=${encodeURIComponent(this.relCaseID)}&caseType=${encodeURIComponent(this.relCaseType)}`);"string"==typeof e.data?(0,V.z8)({showClose:!0,message:e.data,type:"warning",duration:5e3}):(await this.fetchAlarmInfo(),(0,V.z8)({showClose:!0,message:"登记成功! ",type:"success",duration:5e3}))}catch(e){(0,V.z8)({showClose:!0,message:"登记失败！",type:"error",duration:5e3})}},typeToID(e){return""===e?"":"强奸"===e?"A":"抢劫"===e?"R":"故意伤害"===e?"H":"盗窃"===e?"T":"诈骗"===e?"C":"谋杀"===e?"M":((0,V.z8)({showClose:!0,message:"案件类型转换错误！",type:"error",duration:5e3}),"")}},watch:{caseType(){this.type1=this.typeToID(this.caseType)},addCaseType(){this.type2=this.typeToID(this.addCaseType)},updCaseType(){this.type3=this.typeToID(this.updCaseType)},relCaseType(){this.type4=this.typeToID(this.relCaseType)}}},k=a(89);const B=(0,k.Z)(A,[["render",C],["__scopeId","data-v-084d91df"]]);var $=B}}]);
//# sourceMappingURL=172.36e95373.js.map